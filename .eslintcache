[{"C:\\Users\\rdelrio\\www\\barbermx\\src\\index.js":"1","C:\\Users\\rdelrio\\www\\barbermx\\src\\App.js":"2","C:\\Users\\rdelrio\\www\\barbermx\\src\\reportWebVitals.js":"3","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Layout.jsx":"4","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\LayoutRouter.jsx":"5","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Sidebar\\Sidebar.jsx":"6","C:\\Users\\rdelrio\\www\\barbermx\\src\\Routes.js":"7","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Venta\\Venta.jsx":"8","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Agenda.jsx":"9","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Calendar.jsx":"10","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Cita.jsx":"11","C:\\Users\\rdelrio\\www\\barbermx\\src\\Store.js":"12","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Home.jsx":"13","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Weather.jsx":"14","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\MiniCalendar.jsx":"15","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Clock.jsx":"16","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\POS\\POS.jsx":"17","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Cart\\Cart.jsx":"18","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\POS\\Cobrar.jsx":"19","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Ticket\\Ticket.jsx":"20","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Database\\Database.jsx":"21","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Catalogo\\Catalogo.jsx":"22","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\NewPatient.jsx":"23","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Patients\\PatientsList.jsx":"24","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Patients\\PatientProfile.jsx":"25","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Patients\\ClinicHistory.jsx":"26","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Patients\\EditPatientData.jsx":"27","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Patients\\EditMedicalData.jsx":"28","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Review\\Review.jsx":"29","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\TodayData\\TodayData.jsx":"30","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\AddMenu\\AddMenu.jsx":"31","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\BookPatient.jsx":"32"},{"size":496,"mtime":1609716721999,"results":"33","hashOfConfig":"34"},{"size":833,"mtime":1621899886006,"results":"35","hashOfConfig":"34"},{"size":362,"mtime":499162500000,"results":"36","hashOfConfig":"34"},{"size":2860,"mtime":1655454995871,"results":"37","hashOfConfig":"34"},{"size":375,"mtime":1609722312576,"results":"38","hashOfConfig":"34"},{"size":2229,"mtime":1654928707479,"results":"39","hashOfConfig":"34"},{"size":763,"mtime":1654936881401,"results":"40","hashOfConfig":"34"},{"size":849,"mtime":1620707753303,"results":"41","hashOfConfig":"34"},{"size":308,"mtime":1620451289021,"results":"42","hashOfConfig":"34"},{"size":8577,"mtime":1652584683071,"results":"43","hashOfConfig":"34"},{"size":14720,"mtime":1654498714707,"results":"44","hashOfConfig":"34"},{"size":3720,"mtime":1630221207859,"results":"45","hashOfConfig":"34"},{"size":9748,"mtime":1655359353557,"results":"46","hashOfConfig":"34"},{"size":2484,"mtime":1654484689300,"results":"47","hashOfConfig":"34"},{"size":1837,"mtime":1622357849271,"results":"48","hashOfConfig":"34"},{"size":472,"mtime":1630042376590,"results":"49","hashOfConfig":"34"},{"size":2544,"mtime":1630134451449,"results":"50","hashOfConfig":"34"},{"size":8815,"mtime":1630294539296,"results":"51","hashOfConfig":"34"},{"size":9044,"mtime":1630294686803,"results":"52","hashOfConfig":"34"},{"size":4576,"mtime":1646891412325,"results":"53","hashOfConfig":"34"},{"size":4953,"mtime":1654926753762,"results":"54","hashOfConfig":"34"},{"size":10923,"mtime":1630307565200,"results":"55","hashOfConfig":"34"},{"size":12846,"mtime":1655286500922,"results":"56","hashOfConfig":"34"},{"size":775,"mtime":1654936961512,"results":"57","hashOfConfig":"34"},{"size":6281,"mtime":1655351654664,"results":"58","hashOfConfig":"34"},{"size":1212,"mtime":1655274433484,"results":"59","hashOfConfig":"34"},{"size":9554,"mtime":1655288440713,"results":"60","hashOfConfig":"34"},{"size":3817,"mtime":1655273745856,"results":"61","hashOfConfig":"34"},{"size":729,"mtime":1655359371124,"results":"62","hashOfConfig":"34"},{"size":3599,"mtime":1655361498143,"results":"63","hashOfConfig":"34"},{"size":158,"mtime":1655356913916,"results":"64","hashOfConfig":"34"},{"size":4232,"mtime":1655463958885,"results":"65","hashOfConfig":"34"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},"y8o94a",{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"68"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"68"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"68"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"68"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"68"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"68"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"68"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"68"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\rdelrio\\www\\barbermx\\src\\index.js",[],["140","141"],"C:\\Users\\rdelrio\\www\\barbermx\\src\\App.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\reportWebVitals.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Layout.jsx",["142"],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\LayoutRouter.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Sidebar\\Sidebar.jsx",["143"],"import { NavLink, Link } from \"react-router-dom\";\r\n// import firebase from \"firebase/app\";\r\n\r\nimport \"./Sidebar.scss\";\r\nimport variables from \"../../../variables.module.scss\";\r\nimport defaultPP from \"../../../assets/pp.png\";\r\n\r\nconst Sidebar = (props) => {\r\n\tconst admin = true;\r\n\tconst logout = () => {\r\n\t\t// firebase.auth().signOut();\r\n\t\tconsole.log(\"logout\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"topSidebar\">\r\n\t\t\t\t<i className=\"material-icons  \" onClick={props.onChange}>\r\n\t\t\t\t\tmenu\r\n\t\t\t\t</i>\r\n\t\t\t\t{/* <div className=\"brand-logo\">\r\n\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t<h3>barberMX</h3>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div> */}\r\n\t\t\t</div>\r\n\t\t\t<ul>\r\n\t\t\t\t<NavLink\r\n\t\t\t\t\tclassName=\"li\"\r\n\t\t\t\t\texact\r\n\t\t\t\t\tto=\"/\"\r\n\t\t\t\t\tactiveStyle={{ color: variables.primary }}>\r\n\t\t\t\t\t<i className=\"material-icons\">dashboard</i>\r\n\t\t\t\t\t<span>Dashboard</span>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<NavLink\r\n\t\t\t\t\tclassName=\"li\"\r\n\t\t\t\t\tto=\"/agenda\"\r\n\t\t\t\t\tactiveStyle={{ color: variables.primary }}>\r\n\t\t\t\t\t<i className=\"material-icons\">event</i>\r\n\t\t\t\t\t<span>Agenda</span>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<NavLink\r\n\t\t\t\t\tclassName=\"li\"\r\n\t\t\t\t\tto=\"/clients\"\r\n\t\t\t\t\tactiveStyle={{ color: variables.primary }}>\r\n\t\t\t\t\t<i className=\"material-icons\">people</i>\r\n\t\t\t\t\t<span>Pacientes</span>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<NavLink\r\n\t\t\t\t\tclassName=\"li\"\r\n\t\t\t\t\tto=\"/3\"\r\n\t\t\t\t\tactiveStyle={{ color: variables.primary }}>\r\n\t\t\t\t\t<i className=\"material-icons\">receipt</i>\r\n\t\t\t\t\t<span>Contabilidad</span>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t<NavLink\r\n\t\t\t\t\tclassName=\"li\"\r\n\t\t\t\t\tto=\"/catalogue\"\r\n\t\t\t\t\tactiveStyle={{ color: variables.primary }}>\r\n\t\t\t\t\t<i className=\"material-icons\">apps</i>\r\n\t\t\t\t\t<span>Catalogo</span>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t{admin ? (\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tclassName=\"li line\"\r\n\t\t\t\t\t\tto=\"/admindb\"\r\n\t\t\t\t\t\tactiveStyle={{ color: variables.primary }}>\r\n\t\t\t\t\t\t<i className=\"material-icons\">storage</i>\r\n\t\t\t\t\t\t<span>Database</span>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<span className=\"spacer\" />\r\n\t\t\t\t<div className=\"li\" onClick={logout}>\r\n\t\t\t\t\t<i className=\"material-icons\">exit_to_app</i>\r\n\t\t\t\t\t<span>Logout</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"li\" onClick={logout}>\r\n\t\t\t\t\t<img src={defaultPP} alt=\"PP\" />\r\n\t\t\t\t\t<p> Usuario </p>\r\n\t\t\t\t\t{/* <p> {user} </p> */}\r\n\t\t\t\t</div>\r\n\t\t\t</ul>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Sidebar;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\Routes.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Venta\\Venta.jsx",[],["144","145"],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Agenda.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Calendar.jsx",["146"],"import { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n// import { db } from \"../../index\";\r\n\r\nimport { Calendar, dateFnsLocalizer } from \"react-big-calendar\";\r\nimport withDragAndDrop from \"react-big-calendar/lib/addons/dragAndDrop\";\r\nimport { es } from \"date-fns/locale\";\r\n\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport {\r\n\tadd,\r\n\tendOfDay,\r\n\tendOfWeek,\r\n\tstartOfDay,\r\n\tstartOfWeek,\r\n\tsub,\r\n\tendOfMonth,\r\n\tstartOfMonth,\r\n\tformat,\r\n\tparse,\r\n\tgetDay,\r\n\tgetTime,\r\n\tparseISO,\r\n} from \"date-fns\";\r\nimport { Drawer } from \"@material-ui/core\";\r\nimport Cita from \"./Cita\";\r\nconst locales = {\r\n\tes: es,\r\n};\r\n//\r\nconst localizer = dateFnsLocalizer({\r\n\tformat,\r\n\tparse,\r\n\tstartOfWeek,\r\n\tgetDay,\r\n\tlocales,\r\n});\r\nconst DragAndDropCalendar = withDragAndDrop(Calendar);\r\n\r\nconst Calendario = () => {\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [openCreate, setOpenCreate] = useState(false);\r\n\tconst [openEdit, setOpenEdit] = useState(false);\r\n\tconst [actualEvent, setActualEvent] = useState(null);\r\n\tconst [view, setView] = useState(\"day\");\r\n\tconst [currentDate, setCurrentDate] = useState(new Date());\r\n\r\n\tuseEffect(() => {\r\n\t\tgetRangeOfTimeAndEvents(currentDate);\r\n\t}, [view]);\r\n\r\n\tconst openCreateModal = (ev) => {\r\n\t\tsetActualEvent({\r\n\t\t\tstart: ev.start,\r\n\t\t\tend: ev.end,\r\n\t\t\ttitle: \"\",\r\n\t\t\tresourceId: ev.resourceId,\r\n\t\t});\r\n\t\tsetOpenCreate(true);\r\n\t};\r\n\tconst createEvent = async (event) => {\r\n\t\tconsole.log(event);\r\n\t\tsetOpenCreate(false);\r\n\t\tif (event.ready) {\r\n\t\t\tlet newEvent = {\r\n\t\t\t\ttitle: event.client.name,\r\n\t\t\t\tstart: event.start,\r\n\t\t\t\tstartTS: getTime(event.start),\r\n\t\t\t\tend: event.end,\r\n\t\t\t\tclient: event.client,\r\n\t\t\t\tresourceId: event.worker,\r\n\t\t\t\tcart: event.cart,\r\n\t\t\t};\r\n\t\t\tconsole.log(newEvent);\r\n\t\t\tawait axios.post(\"http://localhost:4000/api/events\", newEvent);\r\n\t\t\tsetEvents([...events, newEvent]);\r\n\t\t\tgetRangeOfTimeAndEvents(currentDate);\r\n\t\t}\r\n\t};\r\n\r\n\tconst openEditModal = (ev) => {\r\n\t\tconsole.log(ev);\r\n\t\tif (ev.pagado) {\r\n\t\t\talert(\"No se puede editar un evento terminado\");\r\n\t\t} else {\r\n\t\t\tsetActualEvent(ev);\r\n\t\t\tsetOpenEdit(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst closeEditModal = ({\r\n\t\tstart,\r\n\t\tend,\r\n\t\tclient,\r\n\t\tworker,\r\n\t\tcart,\r\n\t\tready,\r\n\t\tremove,\r\n\t}) => {\r\n\t\tconsole.log({ start, end, client, worker, cart, ready });\r\n\t\tsetOpenEdit(false);\r\n\t\tif (ready || remove) {\r\n\t\t\tif (remove) {\r\n\t\t\t\tdeleteEvent(actualEvent);\r\n\t\t\t} else {\r\n\t\t\t\teditEvent({\r\n\t\t\t\t\tevent: actualEvent,\r\n\t\t\t\t\tclient,\r\n\t\t\t\t\tstart,\r\n\t\t\t\t\tend,\r\n\t\t\t\t\tresourceId: worker,\r\n\t\t\t\t\tcart,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst editEvent = async ({ event, client, start, end, resourceId, cart }) => {\r\n\t\tconsole.log({ event, client, start, end, resourceId, cart });\r\n\t\tif (event.pagado) {\r\n\t\t\talert(\"No se puede editar un evento terminado\");\r\n\t\t} else {\r\n\t\t\tlet newEvent = null;\r\n\t\t\tif (resourceId === undefined || resourceId === null) {\r\n\t\t\t\tconsole.log(\"undefined\");\r\n\t\t\t\tnewEvent = {\r\n\t\t\t\t\t...event,\r\n\t\t\t\t\tstart,\r\n\t\t\t\t\tend,\r\n\t\t\t\t\tstartTS: getTime(start),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tif (event.resourceId === resourceId) {\r\n\t\t\t\t\tnewEvent = {\r\n\t\t\t\t\t\t...event,\r\n\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\tend,\r\n\t\t\t\t\t\tstartTS: getTime(start),\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewEvent = {\r\n\t\t\t\t\t\t...event,\r\n\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\tend,\r\n\t\t\t\t\t\tstartTS: getTime(start),\r\n\t\t\t\t\t\tresourceId: resourceId,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (client !== undefined) {\r\n\t\t\t\tif (event.client._id !== client._id) {\r\n\t\t\t\t\tnewEvent = { ...newEvent, client, title: client.name };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (cart !== undefined) {\r\n\t\t\t\tnewEvent = { ...newEvent, cart };\r\n\t\t\t}\r\n\t\t\tawait axios.put(`http://localhost:4000/api/events/${event._id}`, {\r\n\t\t\t\t...newEvent,\r\n\t\t\t});\r\n\t\t\tgetRangeOfTimeAndEvents(currentDate);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteEvent = async (event) => {\r\n\t\tconsole.log(\"delete event\" + JSON.stringify(event));\r\n\t\tawait axios.delete(`http://localhost:4000/api/events/${event._id}`);\r\n\t\tgetRangeOfTimeAndEvents(currentDate);\r\n\t};\r\n\r\n\tconst showView = (actualView) => {\r\n\t\tsetView(actualView);\r\n\t};\r\n\r\n\tconst getRangeOfTimeAndEvents = (date) => {\r\n\t\tsetCurrentDate(date);\r\n\t\tlet start, end;\r\n\t\tif (view === \"day\") {\r\n\t\t\tstart = startOfDay(date);\r\n\t\t\tend = endOfDay(date);\r\n\t\t} else if (view === \"week\") {\r\n\t\t\tstart = startOfWeek(date);\r\n\t\t\tend = endOfWeek(date);\r\n\t\t} else if (view === \"month\") {\r\n\t\t\tstart = sub(startOfMonth(date), { days: 6 });\r\n\t\t\tend = add(endOfMonth(date), { days: 6 });\r\n\t\t} else if (view === \"agenda\") {\r\n\t\t\tstart = startOfDay(date);\r\n\t\t\tend = add(endOfDay(date), { days: 3 });\r\n\t\t}\r\n\t\tlet inicio = getTime(start);\r\n\t\tlet final = getTime(end);\r\n\t\tconsole.log(\"look for events from \" + inicio + \" to \" + final);\r\n\t\t// Search for events\r\n\t\taxios\r\n\t\t\t.get(\"http://localhost:4000/api/events/range\", {\r\n\t\t\t\tparams: { startDate: start, endDate: end },\r\n\t\t\t})\r\n\t\t\t.then((data) => {\r\n\t\t\t\tlet myEvents = [];\r\n\t\t\t\tdata.data.data.forEach((event) => {\r\n\t\t\t\t\tlet ev = {\r\n\t\t\t\t\t\t...event,\r\n\t\t\t\t\t\tstart: parseISO(event.start),\r\n\t\t\t\t\t\tend: parseISO(event.end),\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmyEvents.push(ev);\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(myEvents);\r\n\t\t\t\tsetEvents(myEvents);\r\n\t\t\t});\r\n\t};\r\n\r\n\t// Calendar Component is ready for import ResourceMap from other component\r\n\r\n\tconst resourceMap = [\r\n\t\t{ resourceId: 1, worker: \"Karen Guerra\", color: \"#00bcd4\" },\r\n\t\t// { resourceId: 2, worker: \"Worker 2\", color: \"#FFC107\" },\r\n\t\t// { resourceId: 3, worker: \"Worker 3\", color: \"#4caf50\" },\r\n\t\t// { resourceId: 4, worker: \"Worker 4\", color: \"#e91e63\" },\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\t<DragAndDropCalendar\r\n\t\t\t\t\tselectable\r\n\t\t\t\t\tculture={\"es\"}\r\n\t\t\t\t\tlocalizer={localizer}\r\n\t\t\t\t\tevents={events}\r\n\t\t\t\t\tlength={3}\r\n\t\t\t\t\tonEventDrop={editEvent}\r\n\t\t\t\t\tonSelectSlot={openCreateModal}\r\n\t\t\t\t\tonSelectEvent={openEditModal}\r\n\t\t\t\t\tonView={showView}\r\n\t\t\t\t\tonNavigate={getRangeOfTimeAndEvents}\r\n\t\t\t\t\tdefaultView={view}\r\n\t\t\t\t\tresources={view === \"week\" ? null : resourceMap}\r\n\t\t\t\t\tresourceIdAccessor=\"resourceId\"\r\n\t\t\t\t\tresourceTitleAccessor=\"worker\"\r\n\t\t\t\t\tstep={30}\r\n\t\t\t\t\tmessages={{\r\n\t\t\t\t\t\tprevious: \"<\",\r\n\t\t\t\t\t\ttoday: \"Hoy\",\r\n\t\t\t\t\t\tmonth: \"Mes\",\r\n\t\t\t\t\t\tweek: \"Semana\",\r\n\t\t\t\t\t\tday: \"Día\",\r\n\t\t\t\t\t\tnext: \">\",\r\n\t\t\t\t\t\tnoEventsInRange: \"Sin clientes agendados para este rango de fechas\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttimeslots={4}\r\n\t\t\t\t\tmin={new Date(\"2019, 1, 1, 08:00\")}\r\n\t\t\t\t\tmax={new Date(\"2019, 1, 1, 22:00\")}\r\n\t\t\t\t\tstyle={{ height: \"85vh\" }}\r\n\t\t\t\t\ttooltipAccessor={(ev) =>\r\n\t\t\t\t\t\t`${ev.title} - ${ev.cart.servicesInCart[0].description} con ${\r\n\t\t\t\t\t\t\tev.resourceId > resourceMap.length\r\n\t\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t\t: resourceMap[ev.resourceId - 1].worker\r\n\t\t\t\t\t\t}`\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcomponents={{\r\n\t\t\t\t\t\tagenda: {\r\n\t\t\t\t\t\t\tevent: (ev) => (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{ev.event.resourceId ? (\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={{ pathname: `/client/${ev.event.clientid}` }}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: resourceMap[ev.event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"none\",\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{`${ev.title} - ${\r\n\t\t\t\t\t\t\t\t\t\t\t\tresourceMap[ev.event.resourceId - 1].worker\r\n\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<span>{ev.title}</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tevent: (ev) => (\r\n\t\t\t\t\t\t\t<div className=\"event\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{ev.title}\r\n\t\t\t\t\t\t\t\t\t{ev.event.pagado ? (\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons done\">done</i>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<span>{ev.event.cart.servicesInCart[0].description}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\teventPropGetter={(event) => {\r\n\t\t\t\t\t\tfor (let i = 1; i <= resourceMap.length; i++) {\r\n\t\t\t\t\t\t\tif (event.resourceId === i && view !== \"agenda\") {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\t\tborderTopColor: resourceMap[event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t{view !== \"day\" && view !== \"agenda\" ? (\r\n\t\t\t\t\t<div className=\"leyenda\">\r\n\t\t\t\t\t\t{resourceMap.map((worker) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<b key={worker.resourceId} style={{ color: worker.color }}>\r\n\t\t\t\t\t\t\t\t\t{worker.worker}\r\n\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\topen={openCreate}\r\n\t\t\t\t\tanchor=\"right\"\r\n\t\t\t\t\tonClose={() => setOpenCreate(false)}>\r\n\t\t\t\t\t<Cita\r\n\t\t\t\t\t\ttitle=\"Agregar nueva cita\"\r\n\t\t\t\t\t\tevent={actualEvent}\r\n\t\t\t\t\t\tonClose={createEvent}></Cita>\r\n\t\t\t\t</Drawer>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\topen={openEdit}\r\n\t\t\t\t\tanchor=\"right\"\r\n\t\t\t\t\tonClose={() => setOpenEdit(false)}>\r\n\t\t\t\t\t<Cita\r\n\t\t\t\t\t\ttitle=\"Editar cita\"\r\n\t\t\t\t\t\tevent={actualEvent}\r\n\t\t\t\t\t\teditFlag={true}\r\n\t\t\t\t\t\tonClose={closeEditModal}></Cita>\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Calendario;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Cita.jsx",["147","148"],"import { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { format, getMinutes, getHours, isAfter, isEqual } from \"date-fns\";\r\nimport { es } from \"date-fns/locale\";\r\nimport { TimePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\nimport { ServicesContext } from \"../../Store\";\r\n\r\nimport \"./Cita.scss\";\r\nimport defaultPP from \"../../assets/pp_default.svg\";\r\n\r\nconst Cita = (props) => {\r\n\tconsole.log(props);\r\n\tconst { services } = useContext(ServicesContext);\r\n\t// Ready to bring workers/rooms from DB\r\n\tconst workers = [\"Karen Guerra\"];\r\n\tconst [checkedState, setCheckedState] = useState(\r\n\t\tnew Array(services.length).fill(false)\r\n\t);\r\n\r\n\tconst [clients, setClients] = useState([]);\r\n\tconst [servicesSelected, setServicesSelected] = useState(\r\n\t\tprops.event.cart ? props.event.cart.servicesInCart : []\r\n\t);\r\n\tconst [total, setTotal] = useState(0);\r\n\tconst [worker, setWorker] = useState(\r\n\t\tprops.event.resourceId ? props.event.resourceId : 1\r\n\t);\r\n\tconst [client, setClient] = useState(\r\n\t\tprops.event.client ? props.event.client : \"\"\r\n\t);\r\n\tconst [start, setStart] = useState(\r\n\t\tprops.event.start ? props.event.start : \"\"\r\n\t);\r\n\tconst [end, setEnd] = useState(props.event.end ? props.event.end : \"\");\r\n\tconst [errorTime, setErrorTime] = useState(\"\");\r\n\t// flags\r\n\tconst [editServicesFlag, setEditServicesFlag] = useState(false);\r\n\tconst [showServicesCard, setShowServicesCard] = useState(false);\r\n\tconst [serviceSelected, setServiceSelected] = useState(false);\r\n\r\n\tconst [editClientsFlag, setEditClientsFlag] = useState(false);\r\n\tconst [showClientsCard, setShowClientsCard] = useState(false);\r\n\tconst [clientSelected, setClientSelected] = useState(false);\r\n\r\n\tconst [showCardHoras, setShowCardHoras] = useState(false);\r\n\tconst [horasSelected, setHorasSelected] = useState(false);\r\n\r\n\tconst [showWorkerSelect, setShowWorkerSelect] = useState(false);\r\n\tconst [saveBtnDisabled, setSaveBtnDisabled] = useState(true);\r\n\r\n\t//COMPONENT USEEFFECTS\r\n\r\n\tuseEffect(() => {\r\n\t\t// revisar checked en edit\r\n\t\tif (props.editFlag) {\r\n\t\t\tfindCheckedOnEdit();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetEditServicesFlag(false);\r\n\t\tif (servicesSelected.length > 0) {\r\n\t\t\tsetServiceSelected(true);\r\n\t\t} else {\r\n\t\t\tsetServiceSelected(false);\r\n\t\t\tsetCheckedState(new Array(services.length).fill(false));\r\n\t\t}\r\n\t}, [servicesSelected]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetEditClientsFlag(false);\r\n\t\tif (client !== \"\") {\r\n\t\t\tsetClientSelected(true);\r\n\t\t} else {\r\n\t\t\tsetClientSelected(false);\r\n\t\t}\r\n\t}, [client]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (start !== \"\" || end !== \"\") {\r\n\t\t\tif (isAfter(start, end) || isEqual(start, end)) {\r\n\t\t\t\tsetErrorTime(\"Revisa que las horas sean correctas\");\r\n\t\t\t\tsetHorasSelected(false);\r\n\t\t\t} else {\r\n\t\t\t\tsetErrorTime(\"\");\r\n\t\t\t\tsetHorasSelected(true);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetHorasSelected(false);\r\n\t\t}\r\n\t}, [start, end]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (serviceSelected && worker !== null && clientSelected && horasSelected) {\r\n\t\t\tsetSaveBtnDisabled(false);\r\n\t\t} else {\r\n\t\t\tsetSaveBtnDisabled(true);\r\n\t\t}\r\n\t}, [serviceSelected, worker, clientSelected, horasSelected]);\r\n\r\n\t// COMPONENT FUNCTIONS\r\n\r\n\tconst searchClients = (value) => {\r\n\t\tconsole.log(value);\r\n\t\tif (value.length > 2) {\r\n\t\t\taxios\r\n\t\t\t\t.get(\"http://localhost:4000/api/clients/filtered\", {\r\n\t\t\t\t\tparams: { pre: value },\r\n\t\t\t\t})\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tlet myClients = [];\r\n\t\t\t\t\tdata.data.forEach((client) => {\r\n\t\t\t\t\t\tmyClients.push(client);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(myClients);\r\n\t\t\t\t\tsetClients(myClients);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetClients([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleTimeChange = (date, time) => {\r\n\t\tlet mins = getMinutes(date);\r\n\t\tlet hours = getHours(date);\r\n\t\tif (time === \"start\") {\r\n\t\t\tlet newDate = new Date(start);\r\n\t\t\tnewDate.setHours(hours);\r\n\t\t\tnewDate.setMinutes(mins);\r\n\t\t\tsetStart(newDate);\r\n\t\t}\r\n\t\tif (time === \"end\") {\r\n\t\t\tlet newDate = new Date(end);\r\n\t\t\tnewDate.setHours(hours);\r\n\t\t\tnewDate.setMinutes(mins);\r\n\t\t\tsetEnd(newDate);\r\n\t\t}\r\n\t};\r\n\r\n\tconst findCheckedOnEdit = () => {\r\n\t\tlet myEstado = [...checkedState];\r\n\t\tfor (let i = 0; i < props.event.cart.servicesInCart.length; i++) {\r\n\t\t\tfor (let j = 0; j < services.length; j++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tprops.event.cart.servicesInCart[i].description ===\r\n\t\t\t\t\tservices[j].description\r\n\t\t\t\t) {\r\n\t\t\t\t\tmyEstado[j] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetCheckedState(myEstado);\r\n\t};\r\n\r\n\tconst handleService = (serv, position) => {\r\n\t\tconsole.log(serv);\r\n\r\n\t\tconst updatedCheckedState = checkedState.map((item, index) =>\r\n\t\t\tindex === position ? !item : item\r\n\t\t);\r\n\r\n\t\tsetCheckedState(updatedCheckedState);\r\n\t};\r\n\tconst saveServices = () => {\r\n\t\tconst myServices = checkedState.reduce((sum, currentState, index) => {\r\n\t\t\tconsole.log(sum);\r\n\t\t\tconsole.log(services[index]);\r\n\t\t\tif (currentState === true) {\r\n\t\t\t\treturn (sum = [\r\n\t\t\t\t\t...sum,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdescription: services[index].description,\r\n\t\t\t\t\t\tprice: services[index].price,\r\n\t\t\t\t\t},\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\t\t\treturn sum;\r\n\t\t}, []);\r\n\t\tconsole.log(myServices);\r\n\t\tsetServicesSelected(myServices);\r\n\t\t// Obtener el total\r\n\t\tlet sum = 0;\r\n\t\tfor (let i = 0; i < myServices.length; i++) {\r\n\t\t\tsum = sum + Number(myServices[i].price);\r\n\t\t}\r\n\t\tsetTotal(sum);\r\n\t\t// Poner flag de service Selected\r\n\t\tif (servicesSelected.length > 0) {\r\n\t\t\tsetServiceSelected(true);\r\n\t\t} else {\r\n\t\t\tsetServiceSelected(false);\r\n\t\t}\r\n\t\tsetShowServicesCard(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"citaC\">\r\n\t\t\t<div className=\"citaHeader\">\r\n\t\t\t\t<b>{props.title}</b>\r\n\t\t\t\t{props.editFlag ? (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tprops.onClose({\r\n\t\t\t\t\t\t\t\tremove: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<i className=\"material-icons\">delete</i>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps\">\r\n\t\t\t\t<div className=\"step \">\r\n\t\t\t\t\t<b className={serviceSelected ? \"num done\" : \"num\"}>1</b>\r\n\t\t\t\t\t<span className=\"line\"></span>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t{serviceSelected ? (\r\n\t\t\t\t\t\t\t<div className=\"conDatos\">\r\n\t\t\t\t\t\t\t\t<div className=\"tituloCard\">\r\n\t\t\t\t\t\t\t\t\t<b>SERVICIOS AGENDADOS:</b>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"editBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowServicesCard(true);\r\n\t\t\t\t\t\t\t\t\t\t\tsetEditServicesFlag(true);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"cardContentServicios\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{servicesSelected.map((service) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<li>{service.description}</li>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"workerSelect\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowWorkerSelect((prev) => !prev)}>\r\n\t\t\t\t\t\t\t\t\t\t{workers[worker - 1]}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={showWorkerSelect ? \"dropDownBackground\" : \"hide\"}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowWorkerSelect(false);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown selectDropDown\">\r\n\t\t\t\t\t\t\t\t\t\t\t{workers.map((wrkr, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"option\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetWorker(index + 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowWorkerSelect(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{wrkr}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"sinDatos\">\r\n\t\t\t\t\t\t\t\t<div className=\"tituloCard\">\r\n\t\t\t\t\t\t\t\t\t<b>AGREGAR SERVICIO</b>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button onClick={() => setShowServicesCard((prev) => !prev)}>\r\n\t\t\t\t\t\t\t\t\tSeleccionar servicio\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className={showServicesCard ? \"dropdown\" : \"dropdown hide\"}>\r\n\t\t\t\t\t\t\t{editServicesFlag ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\" dropdownBtn backBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowServicesCard(false);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">arrow_back</i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dropdownBtn deleteBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetServicesSelected([]);\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowServicesCard(false);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">delete</i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclassName=\"dropdownBtn  cancelBtn\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetServicesSelected([]);\r\n\t\t\t\t\t\t\t\t\t\tsetShowServicesCard(false);\r\n\t\t\t\t\t\t\t\t\t\tsetEditServicesFlag(false);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">clear</i>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"dropdownList\">\r\n\t\t\t\t\t\t\t\t{services.map((service, index) => (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tvalue={service.desc}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleService(service, index);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tname={service.description}\r\n\t\t\t\t\t\t\t\t\t\t\tid={index}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={checkedState[index]}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<span>{service.description}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"costo\">${service.price}</span>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"saveServiceBtn\">\r\n\t\t\t\t\t\t\t\t<button onClick={() => saveServices()}>Guardar</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"step client \">\r\n\t\t\t\t\t<b className={clientSelected ? \"num done\" : \"num\"}>2</b>\r\n\t\t\t\t\t<span className=\"line\"></span>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t{clientSelected ? (\r\n\t\t\t\t\t\t\t<div className=\"conDatos\">\r\n\t\t\t\t\t\t\t\t<div className=\"tituloCard\">\r\n\t\t\t\t\t\t\t\t\t<b>INFORMACIÓN DEL CLIENTE:</b>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"editBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowClientsCard(true);\r\n\t\t\t\t\t\t\t\t\t\t\tsetEditClientsFlag(true);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"cardContentClient\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={client.avatar === \"\" ? defaultPP : client.avatar}\r\n\t\t\t\t\t\t\t\t\t\talt=\"avatar\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"clientRight\">\r\n\t\t\t\t\t\t\t\t\t\t<h3>{client.name}</h3>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"clientInf\">\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Tel:</b>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{client.tel} </span>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Email:</b>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{client.email} </span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"sinDatos\">\r\n\t\t\t\t\t\t\t\t<div className=\"tituloCard\">\r\n\t\t\t\t\t\t\t\t\t<b>AGREGAR CLIENTE</b>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button onClick={() => setShowClientsCard((prev) => !prev)}>\r\n\t\t\t\t\t\t\t\t\tSeleccionar cliente\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className={showClientsCard ? \"dropdown\" : \"dropdown hide\"}>\r\n\t\t\t\t\t\t\t{editClientsFlag ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\" dropdownBtn backBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowClientsCard(false);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">arrow_back</i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dropdownBtn deleteBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetClient(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowClientsCard(false);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">delete</i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclassName=\"dropdownBtn  cancelBtn\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetClient(\"\");\r\n\t\t\t\t\t\t\t\t\t\tsetShowClientsCard(false);\r\n\t\t\t\t\t\t\t\t\t\tsetEditClientsFlag(false);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">clear</i>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\t\t\tname=\"searchClients\"\r\n\t\t\t\t\t\t\t\tid=\"searchClients\"\r\n\t\t\t\t\t\t\t\tclassName=\"searchbarInDropdown\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Buscar...\"\r\n\t\t\t\t\t\t\t\tonKeyUp={(ev) => searchClients(ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className=\"dropdownList\">\r\n\t\t\t\t\t\t\t\t{clients &&\r\n\t\t\t\t\t\t\t\t\tclients.map((client, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={client.name}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetShowClientsCard(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetClient({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: client.name,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar: client.avatar,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttel: client.tel,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temail: client.email,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_id: client._id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{client.name}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"costo\">{client.tel}</span>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"step horas \">\r\n\t\t\t\t\t<b className={horasSelected ? \"num done\" : \"num\"}>3</b>\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"conDatos\">\r\n\t\t\t\t\t\t\t<div className=\"tituloCard\">\r\n\t\t\t\t\t\t\t\t<b>FECHA Y HORA DE LA CITA:</b>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"editBtn\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetShowCardHoras(true);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"cardContentHoras\">\r\n\t\t\t\t\t\t\t\t<b>{`${format(\r\n\t\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\t\t\"EEEE',' dd 'de' MMMM 'de' hh:mm aaaa 'a'\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tlocale: es,\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)} ${format(end, \"hh:mm aaaa\")}`}</b>\r\n\t\t\t\t\t\t\t\t{errorTime !== \"\" ? (\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">error</i>\r\n\t\t\t\t\t\t\t\t\t\t{errorTime}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={showCardHoras ? \"dropdown\" : \"dropdown hide\"}>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"dropdownBtn  cancelBtn\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetShowCardHoras(false);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<i className=\"material-icons\">clear</i>\r\n\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t<div className=\"timepickers\">\r\n\t\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"timepicker\"\r\n\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Inicio\"\r\n\t\t\t\t\t\t\t\t\t\tminutesStep=\"5\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={start}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(date) => handleTimeChange(date, \"start\")}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"timepicker\"\r\n\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tminutesStep=\"5\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Fin\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={end}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(date) => handleTimeChange(date, \"end\")}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"actions\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"cancelBtn\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tprops.onClose({\r\n\t\t\t\t\t\t\tready: false,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tCancelar\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tdisabled={saveBtnDisabled}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tsaveBtnDisabled ? \"saveBtn saveBtnDisabled\" : \"saveBtn saveBtnHover\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tprops.onClose({\r\n\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\tend,\r\n\t\t\t\t\t\t\tclient,\r\n\t\t\t\t\t\t\tworker,\r\n\t\t\t\t\t\t\tcart: {\r\n\t\t\t\t\t\t\t\tservicesInCart: servicesSelected,\r\n\t\t\t\t\t\t\t\tproductsInCart: [],\r\n\t\t\t\t\t\t\t\ttotal: total,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tready: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tAgendar\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Cita;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\Store.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Home.jsx",["149"],"import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { endOfDay, startOfDay, parseISO, format } from \"date-fns\";\r\nimport {\r\n\tAccordion,\r\n\tAccordionDetails,\r\n\tAccordionSummary,\r\n\tButton,\r\n\tDrawer,\r\n} from \"@material-ui/core\";\r\n\r\nimport nothingYet from \"../../assets/nothingyet.png\";\r\nimport defaultPP from \"../../assets/pp_default.svg\";\r\nimport LZlogo from \"../../assets/LZlogo.png\";\r\n\r\nimport \"./Home.scss\";\r\nimport Weather from \"./Weather\";\r\nimport MiniCalendar from \"./MiniCalendar\";\r\nimport Clock from \"./Clock\";\r\nimport POS from \"./POS/POS\";\r\nimport Cart from \"./Cart/Cart\";\r\nimport Ticket from \"./Ticket/Ticket\";\r\nimport TodayData from \"./TodayData/TodayData\";\r\nimport Review from \"./Review/Review\";\r\nimport AddMenu from \"./AddMenu/AddMenu\";\r\n\r\nfunction Home() {\r\n\tconst workers = [\"Karen Guerra\"];\r\n\tconst colores = [\"#00bcd4\"];\r\n\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [currentDate, setCurrentDate] = useState(new Date());\r\n\tconst [expanded, setExpanded] = useState(false);\r\n\r\n\tconst [openPOS, setOpenPOS] = useState(false);\r\n\tconst [openCart, setOpenCart] = useState(false);\r\n\tconst [openTicket, setOpenTicket] = useState(false);\r\n\tconst [openTodayData, setOpenTodayData] = useState(false);\r\n\tconst [openReview, setOpenReview] = useState(false);\r\n\tconst [openAddMenu, setOpenAddMenu] = useState(false);\r\n\r\n\tconst [actualTransaction, setActualTransaction] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetEvents(currentDate);\r\n\t}, []);\r\n\r\n\tconst getEvents = async (date) => {\r\n\t\tsetCurrentDate(date);\r\n\t\tlet start, end;\r\n\t\tstart = startOfDay(date);\r\n\t\tend = endOfDay(date);\r\n\t\tconsole.log(\"look for events from \" + date);\r\n\t\t// Search for events\r\n\t\tawait axios\r\n\t\t\t.get(\"http://localhost:4000/api/events/range\", {\r\n\t\t\t\tparams: { startDate: start, endDate: end },\r\n\t\t\t})\r\n\t\t\t.then((data) => {\r\n\t\t\t\tlet myEvents = [];\r\n\t\t\t\tdata.data.data.forEach((event) => {\r\n\t\t\t\t\tlet ev = {\r\n\t\t\t\t\t\t...event,\r\n\t\t\t\t\t\tstart: parseISO(event.start),\r\n\t\t\t\t\t\tend: parseISO(event.end),\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmyEvents.push(ev);\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(myEvents);\r\n\t\t\t\tsetEvents(myEvents);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleExpandedPanel = (panel) => (evnt, isExpanded) => {\r\n\t\tsetExpanded(isExpanded ? panel : false);\r\n\t};\r\n\r\n\tconst cartDone = async (cart) => {\r\n\t\tif (cart) {\r\n\t\t\tconsole.log(cart);\r\n\t\t\tsetOpenCart(false);\r\n\t\t\tsetActualTransaction({ ...actualTransaction, cart });\r\n\t\t\tsetOpenPOS(true);\r\n\t\t} else {\r\n\t\t\tconsole.log(cart);\r\n\t\t\tsetOpenCart(false);\r\n\t\t}\r\n\t};\r\n\tconst transactionDone = async (cancel, back, transaction) => {\r\n\t\tconsole.log(cancel, back, transaction);\r\n\t\tif (cancel) {\r\n\t\t\tsetOpenPOS(false);\r\n\t\t} else if (back) {\r\n\t\t\tsetOpenPOS(false);\r\n\t\t\tsetOpenCart(true);\r\n\t\t} else {\r\n\t\t\t// code to transaction\r\n\t\t\tconsole.log(transaction);\r\n\t\t\tawait axios.put(`http://localhost:4000/api/events/${transaction._id}`, {\r\n\t\t\t\t...transaction,\r\n\t\t\t});\r\n\t\t\tgetEvents(currentDate);\r\n\t\t\tsetOpenPOS(false);\r\n\t\t}\r\n\t\t// getEvents(currentDate)\r\n\t};\r\n\r\n\tconst ticketDone = () => {\r\n\t\tconsole.log(\"Ticket Done\");\r\n\t};\r\n\r\n\tconst todayDataDone = (measurements) => {\r\n\t\tconsole.log(\"TodayData Done\");\r\n\t\tif (measurements) {\r\n\t\t\tconsole.log(measurements);\r\n\t\t\tsetOpenTodayData(false);\r\n\t\t\tsetActualTransaction({ ...actualTransaction, measurements });\r\n\t\t\tsetOpenReview(true);\r\n\t\t} else {\r\n\t\t\tconsole.log(measurements);\r\n\t\t\tsetOpenTodayData(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst reviewDone = (cancel, back, next, transaction) => {\r\n\t\tconsole.log(\"Review Done\");\r\n\t\tif (cancel) {\r\n\t\t\tsetOpenReview(false);\r\n\t\t} else if (back) {\r\n\t\t\tsetOpenReview(false);\r\n\t\t\tsetOpenTodayData(true);\r\n\t\t} else if (next) {\r\n\t\t\tconsole.log(transaction);\r\n\t\t\tsetOpenReview(false);\r\n\t\t\t// Save data to DB\r\n\t\t\tsetOpenAddMenu(true);\r\n\t\t}\r\n\t};\r\n\tconst addMenuDone = () => {\r\n\t\tconsole.log(\"AddMenu Done\");\r\n\t\tsetOpenAddMenu(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"HomeC\">\r\n\t\t\t<div className=\"superior\">\r\n\t\t\t\t<div className=\"brand\">\r\n\t\t\t\t\t<img src={LZlogo} alt=\"LZlogo\" />\r\n\t\t\t\t\t<span>LightZone</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Weather />\r\n\t\t\t\t<Clock />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"grid\">\r\n\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t{events.length > 0 ? (\r\n\t\t\t\t\t\t<div className=\"withEvents\">\r\n\t\t\t\t\t\t\t{events.map((evnt, i) => (\r\n\t\t\t\t\t\t\t\t<Accordion\r\n\t\t\t\t\t\t\t\t\texpanded={expanded === i}\r\n\t\t\t\t\t\t\t\t\tonChange={handleExpandedPanel(i)}\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\tclassName=\"acordion\">\r\n\t\t\t\t\t\t\t\t\t<AccordionSummary\r\n\t\t\t\t\t\t\t\t\t\taria-controls=\"panel1bh-content\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"panel1bh-header\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tborderLeftColor: colores[evnt.resourceId - 1],\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\texpanded === i\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"acordionHeader\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"acordionHeader borderRadiusHeader\"\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"acordionHeaderContent\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"tiempoCita\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>{format(evnt.start, \"HH:mm\")}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{workers[evnt.resourceId - 1]}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"nombreCita\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img src={defaultPP} alt=\"PP\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{evnt.title}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{expanded === i ? null : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{evnt.cart.servicesInCart.length > 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevnt.cart.servicesInCart[0].description\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  } + ${evnt.cart.servicesInCart.length - 1}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: evnt.cart.servicesInCart[0].description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{evnt.pagado ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons done\">done</i>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons pending\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpending_actions\r\n\t\t\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</AccordionSummary>\r\n\t\t\t\t\t\t\t\t\t<AccordionDetails\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tborderLeftColor: colores[evnt.resourceId - 1],\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"acordionDetails\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"acordionDetailsGrid\">\r\n\t\t\t\t\t\t\t\t\t\t\t{evnt.cart.servicesInCart.map((serv) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"serviceItem\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{serv.description}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <b>{serv.price}</b> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b></b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"actionBtn goToProfileBtn\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to={{ pathname: `/clients/${evnt.client._id}` }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">contact_page</i>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t{evnt.pagado ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"actionBtn addToCartBtn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActualTransaction(evnt);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetOpenTicket(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">receipt</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"actionBtn addToCartBtn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActualTransaction(evnt);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetOpenCart(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">shopping_cart</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"actionBtn currentAppointmentBtn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActualTransaction(evnt);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetOpenTodayData(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">dashboard</i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"actionBtn cobrarBtn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetActualTransaction(evnt);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetOpenPOS(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tCobrar\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</AccordionDetails>\r\n\t\t\t\t\t\t\t\t</Accordion>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"withoutEvents\">\r\n\t\t\t\t\t\t\t<img src={nothingYet} alt=\"nothingYetImg\" />\r\n\t\t\t\t\t\t\t<h1>No hay citas</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t<MiniCalendar onChange={(d) => getEvents(d)} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Drawer\r\n\t\t\t\tclassName=\"POSDrawer\"\r\n\t\t\t\topen={openPOS}\r\n\t\t\t\tanchor=\"right\"\r\n\t\t\t\tonClose={() => setOpenPOS(false)}>\r\n\t\t\t\t<POS transaction={actualTransaction} onClose={transactionDone}></POS>\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer\r\n\t\t\t\tclassName=\"CartDrawer\"\r\n\t\t\t\topen={openCart}\r\n\t\t\t\tanchor=\"right\"\r\n\t\t\t\tonClose={() => setOpenCart(false)}>\r\n\t\t\t\t<Cart transaction={actualTransaction} onClose={cartDone}></Cart>\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer\r\n\t\t\t\tclassName=\"TicketDrawer\"\r\n\t\t\t\topen={openTicket}\r\n\t\t\t\tanchor=\"bottom\"\r\n\t\t\t\tonClose={() => setOpenTicket(false)}>\r\n\t\t\t\t<Ticket transaction={actualTransaction} onClose={ticketDone}></Ticket>\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer\r\n\t\t\t\tclassName=\"TodayDataDrawer\"\r\n\t\t\t\topen={openTodayData}\r\n\t\t\t\tanchor=\"right\"\r\n\t\t\t\tonClose={() => setOpenTodayData(false)}>\r\n\t\t\t\t<TodayData\r\n\t\t\t\t\ttransaction={actualTransaction}\r\n\t\t\t\t\tonClose={todayDataDone}></TodayData>\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer\r\n\t\t\t\tclassName=\"ReviewDrawer\"\r\n\t\t\t\topen={openReview}\r\n\t\t\t\tanchor=\"right\"\r\n\t\t\t\tonClose={() => setOpenReview(false)}>\r\n\t\t\t\t<Review transaction={actualTransaction} onClose={reviewDone}></Review>\r\n\t\t\t</Drawer>\r\n\t\t\t<Drawer\r\n\t\t\t\tclassName=\"AddMenuDrawer\"\r\n\t\t\t\topen={openAddMenu}\r\n\t\t\t\tanchor=\"right\"\r\n\t\t\t\tonClose={() => setOpenAddMenu(false)}>\r\n\t\t\t\t<AddMenu\r\n\t\t\t\t\ttransaction={actualTransaction}\r\n\t\t\t\t\tonClose={addMenuDone}></AddMenu>\r\n\t\t\t</Drawer>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Home;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Weather.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\MiniCalendar.jsx",["150"],"import React, { useEffect, useState } from \"react\";\r\n\r\nimport { MuiPickersUtilsProvider, DatePicker } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { subDays, addDays, format } from \"date-fns\";\r\nimport { es } from \"date-fns/locale\";\r\n\r\nimport \"./MiniCalendar.scss\";\r\n\r\nfunction MiniCalendar(props) {\r\n\tconst [date, setDate] = useState(new Date());\r\n\r\n\tuseEffect(() => {\r\n\t\tprops.onChange(date);\r\n\t}, [date]);\r\n\r\n\tconst handleDate = (txt) => {\r\n\t\tif (txt === \"back\") {\r\n\t\t\tsetDate(subDays(date, 1));\r\n\t\t}\r\n\t\tif (txt === \"next\") {\r\n\t\t\tsetDate(addDays(date, 1));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"miniCalendarC\">\r\n\t\t\t<div className=\"card\">\r\n\t\t\t\t<div className=\"superior\">\r\n\t\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t\t<div className=\"nameDay\">\r\n\t\t\t\t\t\t\t{format(date, \"eeee\", { locale: es })}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"day\"> {format(date, \"dd\")} </div>\r\n\t\t\t\t\t\t<div className=\"month\">\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t{format(date, \"MMMM\", { locale: es })}{\" \"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"year\"> {format(date, \"yyyy\")} </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils} locale={es}>\r\n\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\tautoOk\r\n\t\t\t\t\t\t\t\tvariant=\"static\"\r\n\t\t\t\t\t\t\t\topenTo=\"date\"\r\n\t\t\t\t\t\t\t\tdisableToolbar\r\n\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\tonChange={(d) => setDate(d)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"inferior\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thandleDate(\"back\");\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{\"<\"}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetDate(new Date());\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\thoy\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thandleDate(\"next\");\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{\">\"}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default MiniCalendar;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Clock.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\POS\\POS.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Cart\\Cart.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\POS\\Cobrar.jsx",["151","152"],"import React, { useState, useEffect } from \"react\";\r\nimport \"./Cobrar.scss\";\r\n\r\nimport { RadioGroup, FormControlLabel, Button, Radio } from \"@material-ui/core\";\r\n\r\nfunction Cobrar(props) {\r\n\tconst user = props.transaction.resourceId;\r\n\tconst total = props.transaction.cart.total;\r\n\r\n\tconst [pagacon, setPagaCon] = useState(\"\");\r\n\tconst [cambio, setCambio] = useState(0);\r\n\tconst [porpagar, setPorpagar] = useState(0);\r\n\tconst [formaDePago, setFormaDePago] = useState(\"efectivo\");\r\n\tconst [tipoDeTarjeta, setTipoDeTarjeta] = useState(\"visamastercard\");\r\n\tconst [digitos, setDigitos] = useState(\"\");\r\n\tconst [autorizacion, setAutorizacion] = useState(\"\");\r\n\r\n\tconst [porPagarColor, setPorPagarColor] = useState(\"gray\");\r\n\tconst [cambioColor, setCambioColor] = useState(\"gray\");\r\n\tconst [cambioFontSize, setCambioFontSize] = useState(\"1em\");\r\n\r\n\tuseEffect(() => {\r\n\t\tlet ppagar = total - Number(pagacon);\r\n\t\tconsole.log(ppagar);\r\n\t\tif (ppagar <= 0) {\r\n\t\t\tsetPorpagar(0);\r\n\t\t\tsetPorPagarColor(\"gray\");\r\n\t\t} else {\r\n\t\t\tsetPorpagar(ppagar);\r\n\t\t\tsetPorPagarColor(\"#f44336\");\r\n\t\t}\r\n\t\tlet micambio = Number(pagacon) - total;\r\n\t\tif (micambio <= 0) {\r\n\t\t\tsetCambio(0);\r\n\t\t\tsetCambioColor(\"gray\");\r\n\t\t\tsetCambioFontSize(\"1em\");\r\n\t\t} else {\r\n\t\t\tsetCambio(micambio);\r\n\t\t\tsetCambioColor(\"#2196f3\");\r\n\t\t\tsetCambioFontSize(\"2em\");\r\n\t\t}\r\n\t}, [pagacon]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (formaDePago === \"tarjeta\") {\r\n\t\t\tsetPagaCon(\"\");\r\n\t\t\tsetCambio(0);\r\n\t\t\tsetPorpagar(0);\r\n\t\t}\r\n\t}, [formaDePago]);\r\n\r\n\tconst sendNum = (v) => {\r\n\t\tconsole.log(v);\r\n\t\tif (pagacon === \"\") {\r\n\t\t\tif (\r\n\t\t\t\tv === \"back\" ||\r\n\t\t\t\tv === \"clear\" ||\r\n\t\t\t\tv === \".\" ||\r\n\t\t\t\tv === \"0\" ||\r\n\t\t\t\tv === \"00\"\r\n\t\t\t) {\r\n\t\t\t\tsetPagaCon(\"\");\r\n\t\t\t} else {\r\n\t\t\t\tlet temp = pagacon + v;\r\n\t\t\t\tconsole.log(temp);\r\n\t\t\t\tsetPagaCon(temp);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (v === \"back\") {\r\n\t\t\t\tsetPagaCon(pagacon.substring(0, pagacon.length - 1));\r\n\t\t\t} else {\r\n\t\t\t\tif (v === \"clear\") {\r\n\t\t\t\t\tsetPagaCon(\"\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet temp = pagacon + v;\r\n\t\t\t\t\tconsole.log(temp);\r\n\t\t\t\t\tsetPagaCon(temp);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst sendTicket = () => {\r\n\t\tconsole.log(\"sendTicket\");\r\n\t\tlet myTime = new Date().getTime();\r\n\t\tconsole.log({\r\n\t\t\t...props.transaccion,\r\n\t\t\tpagado: myTime,\r\n\t\t\tticket: myTime,\r\n\t\t\tpagacon,\r\n\t\t\tcambio,\r\n\t\t\tformaDePago,\r\n\t\t\ttipoDeTarjeta,\r\n\t\t\tdigitos,\r\n\t\t\tautorizacion,\r\n\t\t\towner: user,\r\n\t\t});\r\n\t\tif (formaDePago === \"efectivo\") {\r\n\t\t\tprops.onClose(true, {\r\n\t\t\t\t...props.transaccion,\r\n\t\t\t\tpagado: myTime,\r\n\t\t\t\tticket: myTime,\r\n\t\t\t\tpagacon,\r\n\t\t\t\tcambio,\r\n\t\t\t\tformaDePago,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tprops.onClose(true, {\r\n\t\t\t\t...props.transaccion,\r\n\t\t\t\tpagado: myTime,\r\n\t\t\t\tticket: myTime,\r\n\t\t\t\tformaDePago,\r\n\t\t\t\tdigitos,\r\n\t\t\t\tautorizacion,\r\n\t\t\t\ttipoDeTarjeta,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"cobrarC\">\r\n\t\t\t<div className=\"left\">\r\n\t\t\t\t<h1>Total a Pagar:</h1>\r\n\t\t\t\t<h3 id=\"total\">${total}</h3>\r\n\t\t\t\t{pagacon ? (\r\n\t\t\t\t\t<div className=\"gridCambio\">\r\n\t\t\t\t\t\t<p style={{ color: porPagarColor }}>por pagar:</p>\r\n\t\t\t\t\t\t<strong style={{ color: porPagarColor }}>{porpagar}</strong>\r\n\t\t\t\t\t\t<p style={{ color: cambioColor }}>cambio:</p>\r\n\t\t\t\t\t\t<strong style={{ color: cambioColor, fontSize: cambioFontSize }}>\r\n\t\t\t\t\t\t\t{cambio}\r\n\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{formaDePago === \"efectivo\" && porpagar === 0 && pagacon !== \"\" ? (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName=\"cobrar\"\r\n\t\t\t\t\t\tonClick={() => sendTicket()}>\r\n\t\t\t\t\t\tPagar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{formaDePago === \"tarjeta\" && autorizacion !== \"\" ? (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName=\"cobrar\"\r\n\t\t\t\t\t\tonClick={() => sendTicket()}>\r\n\t\t\t\t\t\tPagar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"right\">\r\n\t\t\t\t<div className=\"pago\">\r\n\t\t\t\t\t<div className=\"radioFormaDePago\">\r\n\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\tvalue={formaDePago}\r\n\t\t\t\t\t\t\tclassName=\"radioGroupFdP\"\r\n\t\t\t\t\t\t\tonChange={(ev) => setFormaDePago(ev.target.value)}>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tvalue=\"efectivo\"\r\n\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\tlabel=\"Efectivo\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tvalue=\"tarjeta\"\r\n\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\tlabel=\"Tarjeta\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{formaDePago === \"efectivo\" ? (\r\n\t\t\t\t\t\t<div className=\"efectivo\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"inputKB\"\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\t\t(ev) =>\r\n\t\t\t\t\t\t\t\t\t\tsetPagaCon(ev.target.value.replace(/[^\\d*\\.?^\\d*]/, \"\"))\r\n\t\t\t\t\t\t\t\t\t// setPagaCon(ev.target.value.replace(/[^\\d]/, \"\"))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvalue={pagacon}\r\n\t\t\t\t\t\t\t\tmaxLength={8}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className=\"KB\">\r\n\t\t\t\t\t\t\t\t<div className=\"numKB\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"num1-9\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"1\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t1\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"2\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"3\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t3\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"4\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t4\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"5\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t5\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"6\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t6\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"7\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t7\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"8\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t8\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"9\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t9\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"num0-00\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"0\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"00\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t00\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"back\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"back\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">keyboard_backspace</i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"clear\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">clear</i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"punto\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\".\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t.\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t<div className=\"tarjeta\">\r\n\t\t\t\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t\t\t\t<li>Seleccione tipo de tarjeta</li>\r\n\t\t\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"tipoTarjeta\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={tipoDeTarjeta}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(ev) => setTipoDeTarjeta(ev.target.value)}\r\n\t\t\t\t\t\t\t\t\t\trequired>\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"visamastercard\"\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Visa / MasterCard\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"amex\"\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"American Express\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t\t<li>Ingrese últimos 4 digitos de la tarjeta</li>\r\n\t\t\t\t\t\t\t\t\t<div className=\"digitos\">\r\n\t\t\t\t\t\t\t\t\t\t{tipoDeTarjeta === \"visamastercard\" ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<p>XXXX-XXXX-XXXX-</p>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<p>XXXX-XXXXXX-X</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"digitos\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={digitos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDigitos(ev.target.value.replace(/[^\\d]/, \"\"))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxLength={4}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"1234\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<li>Realice transacción en terminal</li>\r\n\t\t\t\t\t\t\t\t\t<p className=\"espacio\">\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">credit_card</i>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<li>Ingrese número de autorización</li>\r\n\t\t\t\t\t\t\t\t\t<p className=\"autorizacion\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"autorizacion\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={autorizacion}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetAutorizacion(ev.target.value.replace(/[^\\d]/, \"\"))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxLength={6}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"123456\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</ol>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Cobrar;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Ticket\\Ticket.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Database\\Database.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Catalogo\\Catalogo.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\NewPatient.jsx",["153","154"],"import React, { useState, useContext, useEffect } from \"react\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\nimport { ServicesContext } from \"../../Store\";\r\n\r\nimport {\r\n\tButton,\r\n\tTextField,\r\n\tFormControl,\r\n\tSelect,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tOutlinedInput,\r\n} from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\n\r\nimport {\r\n\tDatePicker,\r\n\tTimePicker,\r\n\tKeyboardDatePicker,\r\n\tMuiPickersUtilsProvider,\r\n} from \"@material-ui/pickers\";\r\n\r\nimport { format, getTime, getMinutes, getHours, addMinutes } from \"date-fns\";\r\n\r\nimport \"./NewPatient.scss\";\r\nimport axios from \"axios\";\r\n\r\nconst NewPatient = (props) => {\r\n\tconst { services } = useContext(ServicesContext);\r\n\t// const [regid, setRegId] = useState(Date.now().toString());\r\n\tconst [regid, setRegId] = useState(1000);\r\n\tconst [firstname, setFirstName] = useState(\"\");\r\n\tconst [secondname, setSecondName] = useState(\"\");\r\n\tconst [lastname, setLastName] = useState(\"\");\r\n\tconst [seclastname, setSecLastName] = useState(\"\");\r\n\tconst [dob, setDOB] = useState(null);\r\n\tconst [age, setAge] = useState(null);\r\n\tconst [gender, setGender] = useState(\"\");\r\n\tconst [tel, setTel] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [address, setAddress] = useState(\"\");\r\n\tconst [numExt, setNumExt] = useState(\"\");\r\n\tconst [numInt, setNumInt] = useState(\"\");\r\n\tconst [county, setCounty] = useState(\"\");\r\n\tconst [postalCode, setPostalCode] = useState(\"\");\r\n\tconst [city, setCity] = useState(\"\");\r\n\tconst [state, setState] = useState(null);\r\n\tconst [diaCita, setDiaCita] = useState(null);\r\n\tconst [horaCita, setHoraCita] = useState(null);\r\n\tconst [sala, setSala] = useState(1);\r\n\r\n\tconst [service, setService] = useState(0);\r\n\r\n\tconst estados = [\r\n\t\t\"Aguascalientes\",\r\n\t\t\"Baja California\",\r\n\t\t\"Baja California Sur\",\r\n\t\t\"Campeche\",\r\n\t\t\"Chiapas\",\r\n\t\t\"Chihuahua\",\r\n\t\t\"Coahuila de Zaragoza\",\r\n\t\t\"Colima\",\r\n\t\t\"Ciudad de México\",\r\n\t\t\"Durango\",\r\n\t\t\"Estado de México\",\r\n\t\t\"Guanajuato\",\r\n\t\t\"Guerrero\",\r\n\t\t\"Hidalgo\",\r\n\t\t\"Jalisco\",\r\n\t\t\"Michoacan de Ocampo\",\r\n\t\t\"Morelos\",\r\n\t\t\"Nayarit\",\r\n\t\t\"Nuevo León\",\r\n\t\t\"Oaxaca\",\r\n\t\t\"Puebla\",\r\n\t\t\"Queretaro de Arteaga\",\r\n\t\t\"Quintana Roo\",\r\n\t\t\"San Luis Potosi\",\r\n\t\t\"Sinaloa\",\r\n\t\t\"Sonora\",\r\n\t\t\"Tabasco\",\r\n\t\t\"Tamaulipas\",\r\n\t\t\"Tlaxcala\",\r\n\t\t\"Veracruz\",\r\n\t\t\"Yucatan\",\r\n\t\t\"Zacatecas\",\r\n\t];\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tawait axios\r\n\t\t\t\t.get(\"http://localhost:4000/api/clients/length\")\r\n\t\t\t\t.then((clients) => {\r\n\t\t\t\t\tif (clients) {\r\n\t\t\t\t\t\tconsole.log(clients);\r\n\t\t\t\t\t\tlet res = 1000 + clients.data;\r\n\t\t\t\t\t\tsetRegId(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t};\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\tconst calcAge = (val) => {\r\n\t\tif (val) {\r\n\t\t\tconsole.log(val);\r\n\t\t\tsetDOB(val);\r\n\t\t\tlet dob = new Date(val);\r\n\t\t\tlet today = new Date();\r\n\t\t\tlet age = today.getFullYear() - dob.getFullYear();\r\n\t\t\tif (\r\n\t\t\t\ttoday.getMonth() < dob.getMonth() ||\r\n\t\t\t\t(today.getMonth() === dob.getMonth() && today.getDate() < dob.getDate())\r\n\t\t\t) {\r\n\t\t\t\tage--;\r\n\t\t\t}\r\n\t\t\tsetAge(age);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = async (ev) => {\r\n\t\tev.preventDefault();\r\n\t\tif (gender === \"\") {\r\n\t\t\talert(\"ingrese el genero correctamente\");\r\n\t\t} else {\r\n\t\t\tif (diaCita === null || horaCita === null) {\r\n\t\t\t\talert(\"Debe programar cita correctamente \");\r\n\t\t\t} else {\r\n\t\t\t\tif (age) {\r\n\t\t\t\t\tlet name =\r\n\t\t\t\t\t\tfirstname +\r\n\t\t\t\t\t\t(secondname ? ` ${secondname} ` : \" \") +\r\n\t\t\t\t\t\tlastname +\r\n\t\t\t\t\t\t(seclastname ? ` ${seclastname}` : \"\");\r\n\r\n\t\t\t\t\tlet mins = getMinutes(horaCita);\r\n\t\t\t\t\tlet hours = getHours(horaCita);\r\n\t\t\t\t\tlet start = new Date(diaCita);\r\n\t\t\t\t\tstart.setHours(hours);\r\n\t\t\t\t\tstart.setMinutes(mins);\r\n\t\t\t\t\tlet end = addMinutes(start, 30);\r\n\r\n\t\t\t\t\tlet newPatient = {\r\n\t\t\t\t\t\tregid,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\tfirstname,\r\n\t\t\t\t\t\tsecondname,\r\n\t\t\t\t\t\tlastname,\r\n\t\t\t\t\t\tseclastname,\r\n\t\t\t\t\t\tdob: format(dob, \"dd-MMM-yyyy\"),\r\n\t\t\t\t\t\tage,\r\n\t\t\t\t\t\tgender,\r\n\t\t\t\t\t\theight: \"\",\r\n\t\t\t\t\t\tgoal: null,\r\n\t\t\t\t\t\ttel,\r\n\t\t\t\t\t\temail,\r\n\t\t\t\t\t\tdemographics: {\r\n\t\t\t\t\t\t\taddress,\r\n\t\t\t\t\t\t\tnumExt,\r\n\t\t\t\t\t\t\tnumInt,\r\n\t\t\t\t\t\t\tcounty,\r\n\t\t\t\t\t\t\tpostalCode,\r\n\t\t\t\t\t\t\tcity,\r\n\t\t\t\t\t\t\tstate,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmedicalHistory: {\r\n\t\t\t\t\t\t\treason: \"\",\r\n\t\t\t\t\t\t\tconditions: \"\",\r\n\t\t\t\t\t\t\tillness: \"\",\r\n\t\t\t\t\t\t\tallergies: \"\",\r\n\t\t\t\t\t\t\tnotIncluded: \"\",\r\n\t\t\t\t\t\t\twaterConsumption: \"\",\r\n\t\t\t\t\t\t\texercise: \"\",\r\n\t\t\t\t\t\t\tcomments: \"\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tappointments: [],\r\n\t\t\t\t\t};\r\n\t\t\t\t\tconsole.log(newPatient);\r\n\t\t\t\t\tlet newPatientID = \"\";\r\n\t\t\t\t\tawait axios\r\n\t\t\t\t\t\t.post(\"http://localhost:4000/api/clients\", newPatient)\r\n\t\t\t\t\t\t.then(async (response) => {\r\n\t\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\t\tnewPatientID = response.data.client._id;\r\n\t\t\t\t\t\t\tlet newEvent = {\r\n\t\t\t\t\t\t\t\ttitle: name,\r\n\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\tstartTS: getTime(start),\r\n\t\t\t\t\t\t\t\tend,\r\n\t\t\t\t\t\t\t\tclient: { ...response.data.client, avatar: \"\" }, //Se avienta todo el Obj completo, pero en el backend el Model limita las propiedades deseadas\r\n\t\t\t\t\t\t\t\tresourceId: sala,\r\n\t\t\t\t\t\t\t\tcart: {\r\n\t\t\t\t\t\t\t\t\tservicesInCart: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tdescription: services[service].description,\r\n\t\t\t\t\t\t\t\t\t\t\tprice: services[service].price,\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tproductsInCart: [],\r\n\t\t\t\t\t\t\t\t\ttotal: services[service].price,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tconsole.log(newEvent);\r\n\t\t\t\t\t\t\tawait axios\r\n\t\t\t\t\t\t\t\t.post(\"http://localhost:4000/api/events\", newEvent)\r\n\t\t\t\t\t\t\t\t.then(async (response) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(response); //Por eso aqui solo llegan pocas propiedades en event.client\r\n\t\t\t\t\t\t\t\t\tawait axios.put(\r\n\t\t\t\t\t\t\t\t\t\t`http://localhost:4000/api/clients/${newPatientID}`,\r\n\t\t\t\t\t\t\t\t\t\t{ appointments: [response.data.event._id] }\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tprops.onClose();\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"Ingresa correctamente la fecha de nacimiento\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"newPatientC\">\r\n\t\t\t<form onSubmit={handleSubmit} className=\"newPatientForm\">\r\n\t\t\t\t<div className=\"superiorData\">\r\n\t\t\t\t\t<div className=\"id\">\r\n\t\t\t\t\t\t<b>Número de registro</b>\r\n\t\t\t\t\t\t<p>{regid}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"nombre\">\r\n\t\t\t\t\t\t<b>Nombre*</b>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={firstname}\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tplaceholder=\"Nombre...\"\r\n\t\t\t\t\t\t\tonChange={(ev) => setFirstName(ev.target.value.toLowerCase())}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"secondName\">\r\n\t\t\t\t\t\t<b>Segundo Nombre</b>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={secondname}\r\n\t\t\t\t\t\t\tplaceholder=\"Segundo nombre...\"\r\n\t\t\t\t\t\t\tonChange={(ev) => setSecondName(ev.target.value.toLowerCase())}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"apellidoP\">\r\n\t\t\t\t\t\t<b>Apellido Paterno*</b>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={lastname}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tplaceholder=\"Apellido paterno...\"\r\n\t\t\t\t\t\t\tonChange={(ev) => setLastName(ev.target.value.toLowerCase())}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"apellidoM\">\r\n\t\t\t\t\t\t<b>Apellido Materno</b>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tvalue={seclastname}\r\n\t\t\t\t\t\t\tplaceholder=\"Apellido materno...\"\r\n\t\t\t\t\t\t\tonChange={(ev) => setSecLastName(ev.target.value.toLowerCase())}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"dob\">\r\n\t\t\t\t\t\t<b>Fecha de nacimiento*</b>\r\n\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t\t\t\t\t<KeyboardDatePicker\r\n\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"dd/mm/yyyy\"\r\n\t\t\t\t\t\t\t\tclassName=\"dobInput\"\r\n\t\t\t\t\t\t\t\tformat=\"dd/MM/yyyy\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tvalue={dob}\r\n\t\t\t\t\t\t\t\tonChange={calcAge}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"age\">\r\n\t\t\t\t\t\t{age ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<b>Edad:</b> <span>{age} años</span>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"selectGender\">\r\n\t\t\t\t\t\t<b>Genero*</b>\r\n\t\t\t\t\t\t<FormControl className=\"selectForm\" size=\"small\" variant=\"outlined\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={gender}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setGender(e.target.value)}\r\n\t\t\t\t\t\t\t\tinput={\r\n\t\t\t\t\t\t\t\t\t<OutlinedInput labelWidth={50} name=\"gender\" id=\"gender\" />\r\n\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t<MenuItem value=\"M\">Masculino</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value=\"F\">Femenino</MenuItem>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"inferiorData\">\r\n\t\t\t\t\t<div className=\"infLeft\">\r\n\t\t\t\t\t\t<div className=\"tel\">\r\n\t\t\t\t\t\t\t<b>Teléfono*</b>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\tvalue={tel}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tmaxLength={10}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Teléfono...\"\r\n\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\tsetTel(ev.target.value.replace(/[^\\d]/, \"\").trim())\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"email\">\r\n\t\t\t\t\t\t\t<b>email*</b>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tplaceholder=\"e-mail...\"\r\n\t\t\t\t\t\t\t\tonChange={(ev) => setEmail(ev.target.value.trim())}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"infRight\">\r\n\t\t\t\t\t\t<div className=\"direccion\">\r\n\t\t\t\t\t\t\t<b>Dirección</b>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Dirección...\"\r\n\t\t\t\t\t\t\t\tonChange={(ev) => setAddress(ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"numExt\">\r\n\t\t\t\t\t\t\t<b>No. Ext.</b>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={numExt}\r\n\t\t\t\t\t\t\t\tplaceholder=\"No. Ext...\"\r\n\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\tsetNumExt(ev.target.value.replace(/[^\\d]/, \"\").trim())\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"numInt\">\r\n\t\t\t\t\t\t\t<b>No. Int.</b>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={numInt}\r\n\t\t\t\t\t\t\t\tplaceholder=\"No. Int...\"\r\n\t\t\t\t\t\t\t\tonChange={(ev) => setNumInt(ev.target.value.trim())}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"colonia\">\r\n\t\t\t\t\t\t\t<b>Colonia</b>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={county}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Colonia...\"\r\n\t\t\t\t\t\t\t\tonChange={(ev) => setCounty(ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"postalCode\">\r\n\t\t\t\t\t\t\t<b>C.P.</b>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"tel\"\r\n\t\t\t\t\t\t\t\tvalue={postalCode}\r\n\t\t\t\t\t\t\t\tmaxLength=\"5\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"C.P...\"\r\n\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\tsetPostalCode(ev.target.value.replace(/[^\\d]/, \"\").trim())\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"ciudad\">\r\n\t\t\t\t\t\t\t<b>Ciudad</b>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t\t\t\tplaceholder=\"Ciudad...\"\r\n\t\t\t\t\t\t\t\tonChange={(ev) => setCity(ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"estado\">\r\n\t\t\t\t\t\t\t<b>Estado</b>\r\n\r\n\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\tid=\"combo-box-states\"\r\n\t\t\t\t\t\t\t\tclassName=\"estadoInput\"\r\n\t\t\t\t\t\t\t\toptions={estados}\r\n\t\t\t\t\t\t\t\tvalue={state}\r\n\t\t\t\t\t\t\t\tonChange={(ev, val) => setState(val)}\r\n\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option}\r\n\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t<TextField {...params} size=\"small\" variant=\"outlined\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"agendarPaciente\">\r\n\t\t\t\t\t<h4 className=\"progCita\"> Programar cita:</h4>\r\n\t\t\t\t\t<div className=\"picker\">\r\n\t\t\t\t\t\t<b>Dia *</b>\r\n\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\tautoOk\r\n\t\t\t\t\t\t\t\tclassName=\"pickerInput\"\r\n\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tvalue={diaCita}\r\n\t\t\t\t\t\t\t\tonChange={setDiaCita}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"picker\">\r\n\t\t\t\t\t\t<b>Hora *</b>\r\n\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tclassName=\"pickerInput\"\r\n\t\t\t\t\t\t\t\tvalue={horaCita}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\tonChange={setHoraCita}\r\n\t\t\t\t\t\t\t\tminutesStep=\"5\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <FormControl className=\"selectSala\" size=\"small\" variant=\"outlined\">\r\n\t\t\t\t\t\t<InputLabel htmlFor=\"sala\">Sala</InputLabel>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tvalue={sala}\r\n\t\t\t\t\t\t\tonChange={(e) => setSala(e.target.value)}\r\n\t\t\t\t\t\t\tinput={<OutlinedInput labelWidth={30} id=\"sala\" />}>\r\n\t\t\t\t\t\t\t<MenuItem value={1}>Karen Guerra</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem value={2}>Rayos X</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem value={3}>Ultrasonido</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem value={4}>Mastografía</MenuItem>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</FormControl> */}\r\n\t\t\t\t\t<div className=\"selectService\">\r\n\t\t\t\t\t\t<b>Servicio*</b>\r\n\t\t\t\t\t\t<FormControl className=\"selectForm\" size=\"small\" variant=\"outlined\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={service}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setService(e.target.value)}\r\n\t\t\t\t\t\t\t\tinput={\r\n\t\t\t\t\t\t\t\t\t<OutlinedInput labelWidth={30} name=\"service\" id=\"service\" />\r\n\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t{services.map((service, index) => (\r\n\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={index}>\r\n\t\t\t\t\t\t\t\t\t\t{service.description}\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"addBtn\"\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\">\r\n\t\t\t\t\tAgregar\r\n\t\t\t\t</Button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NewPatient;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Patients\\PatientsList.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Patients\\PatientProfile.jsx",["155"],"import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nimport ClinicHistory from \"./ClinicHistory\";\r\nimport defaultPP from \"../../assets/pp_default.svg\";\r\n\r\nimport \"./PatientProfile.scss\";\r\nimport EditPatientData from \"./EditPatientData\";\r\nimport EditMedicalData from \"./EditMedicalData\";\r\nimport { Drawer } from \"@material-ui/core\";\r\n\r\nfunction PatientProfile(props) {\r\n\tconsole.log(props);\r\n\tconst patientID = props.match.params.uid;\r\n\tconst [patient, setPatient] = useState(null);\r\n\tconst [openEditPatientData, setOpenEditPatientData] = useState(false);\r\n\tconst [openEditMedicalData, setOpenEditMedicalData] = useState(false);\r\n\tconst [showActionsMenu, setShowActionsMenu] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetPatient();\r\n\t}, []);\r\n\r\n\tconst getPatient = async () => {\r\n\t\tawait axios\r\n\t\t\t.get(`http://localhost:4000/api/clients/${patientID}`)\r\n\t\t\t.then((data) => {\r\n\t\t\t\tconsole.log(data.data);\r\n\t\t\t\tif (data.data.hasOwnProperty(\"medicalHistory\")) {\r\n\t\t\t\t\tsetPatient(data.data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetPatient({\r\n\t\t\t\t\t\t...data.data,\r\n\t\t\t\t\t\tmedicalHistory: {\r\n\t\t\t\t\t\t\treason: \"\",\r\n\t\t\t\t\t\t\tconditions: \"\",\r\n\t\t\t\t\t\t\tillness: \"\",\r\n\t\t\t\t\t\t\tallergies: \"\",\r\n\t\t\t\t\t\t\tnotIncluded: \"\",\r\n\t\t\t\t\t\t\twaterConsumption: \"\",\r\n\t\t\t\t\t\t\texercise: \"\",\r\n\t\t\t\t\t\t\tcomments: \"\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst editMedicalHistory = (newData) => {\r\n\t\tconsole.log(newData);\r\n\t\tconsole.log(patientID);\r\n\t\tgetPatient();\r\n\t};\r\n\r\n\tconst editPatientDataDone = () => {\r\n\t\tconsole.log(\"editPatientDataDone\");\r\n\t\tsetOpenEditPatientData(false);\r\n\t\tgetPatient();\r\n\t};\r\n\tconst editMedicalDataDone = () => {\r\n\t\tconsole.log(\"editMedicalDataDone\");\r\n\t\tsetOpenEditMedicalData(false);\r\n\t\tgetPatient();\r\n\t};\r\n\tconst deletePatient = () => {\r\n\t\twindow.confirm(`Estas seguro que deseas eliminar a ${patient.name}`)\r\n\t\t\t? alert(`Se eliminó a ${patient.name}`)\r\n\t\t\t: console.log(\"culo\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"patientProfileC\">\r\n\t\t\t{patient ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"superior\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName={patient.gender === \"M\" ? \"male\" : \"female\"}\r\n\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\tprops.transaction?.client?.avatar\r\n\t\t\t\t\t\t\t\t\t? props.transaction.client.avatar\r\n\t\t\t\t\t\t\t\t\t: defaultPP\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\talt=\"ClientPicture\"\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<div className=\"supRight\">\r\n\t\t\t\t\t\t\t<div className=\"patientData\">\r\n\t\t\t\t\t\t\t\t<div className=\"nameAndActions\">\r\n\t\t\t\t\t\t\t\t\t<b className=\"clientName\">{patient.name}</b>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"actionsBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowActionsMenu((prev) => !prev)}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">more_vert</i>\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={showActionsMenu ? \"dropDownBackground\" : \"hide\"}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowActionsMenu(false);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"option\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetOpenEditPatientData(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowActionsMenu(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tEditar Paciente\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"option\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetOpenEditMedicalData(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowActionsMenu(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tEditar Historia Clínica\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"option\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowActionsMenu(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeletePatient();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"shapeData\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"patientAge\">\r\n\t\t\t\t\t\t\t\t\t\t<b>Edad:</b>\r\n\t\t\t\t\t\t\t\t\t\t<span>{patient.age} años</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\tpatient.height\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"patientHeight\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"patientHeight required\"\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t<b>Estatura:</b>\r\n\t\t\t\t\t\t\t\t\t\t<span>{patient.height}mts</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\tpatient.goal ? \"patientGoal\" : \"patientGoal required\"\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t<b>Peso deseado:</b>\r\n\t\t\t\t\t\t\t\t\t\t<span>{patient.goal}Kgs</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"personalData\">\r\n\t\t\t\t\t\t\t\t\t<b>Tel:</b>\r\n\t\t\t\t\t\t\t\t\t<span>{patient.tel}</span>\r\n\t\t\t\t\t\t\t\t\t<b>e-mail:</b>\r\n\t\t\t\t\t\t\t\t\t<span>{patient.email}</span>\r\n\t\t\t\t\t\t\t\t\t{patient.demographics ? (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Dirección:</b>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{`${\r\n\t\t\t\t\t\t\t\t\t\t\t\tpatient.demographics.address\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? patient.demographics.address\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\tpatient.demographics.numExt\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? patient.demographics.numExt\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t}${\r\n\t\t\t\t\t\t\t\t\t\t\t\tpatient.demographics.numInt\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? patient.demographics.numInt\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\tpatient.demographics.county\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? patient.demographics.county\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t} ${\r\n\t\t\t\t\t\t\t\t\t\t\t\tpatient.demographics.postalCode\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? patient.demographics.postalCode\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t}`}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<b></b>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{patient.demographics.city\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? patient.demographics.city\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t,{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{patient.demographics.state\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? patient.demographics.state\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<ClinicHistory\r\n\t\t\t\t\t\t\t\tdata={patient.medicalHistory}\r\n\t\t\t\t\t\t\t\tedit={() => editMedicalHistory()}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tclassName=\"EditPatientDataDrawer\"\r\n\t\t\t\t\t\topen={openEditPatientData}\r\n\t\t\t\t\t\tanchor=\"bottom\"\r\n\t\t\t\t\t\tonClose={() => setOpenEditPatientData(false)}>\r\n\t\t\t\t\t\t<EditPatientData\r\n\t\t\t\t\t\t\tpatient={patient}\r\n\t\t\t\t\t\t\tonClose={editPatientDataDone}></EditPatientData>\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tclassName=\"EditMedicalDataDrawer\"\r\n\t\t\t\t\t\topen={openEditMedicalData}\r\n\t\t\t\t\t\tanchor=\"bottom\"\r\n\t\t\t\t\t\tonClose={() => setOpenEditMedicalData(false)}>\r\n\t\t\t\t\t\t<EditMedicalData\r\n\t\t\t\t\t\t\tdata={patient.medicalHistory}\r\n\t\t\t\t\t\t\tpatientId={patientID}\r\n\t\t\t\t\t\t\tonClose={editMedicalDataDone}></EditMedicalData>\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<h1>Loading</h1>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default PatientProfile;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Patients\\ClinicHistory.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Patients\\EditPatientData.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Patients\\EditMedicalData.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Review\\Review.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\TodayData\\TodayData.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\AddMenu\\AddMenu.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\BookPatient.jsx",[],{"ruleId":"156","replacedBy":"157"},{"ruleId":"158","replacedBy":"159"},{"ruleId":"160","severity":1,"message":"161","line":38,"column":8,"nodeType":"162","messageId":"163","endLine":38,"endColumn":23},{"ruleId":"160","severity":1,"message":"164","line":1,"column":19,"nodeType":"162","messageId":"163","endLine":1,"endColumn":23},{"ruleId":"156","replacedBy":"165"},{"ruleId":"158","replacedBy":"166"},{"ruleId":"167","severity":1,"message":"168","line":52,"column":5,"nodeType":"169","endLine":52,"endColumn":11,"suggestions":"170"},{"ruleId":"167","severity":1,"message":"171","line":61,"column":5,"nodeType":"169","endLine":61,"endColumn":7,"suggestions":"172"},{"ruleId":"167","severity":1,"message":"173","line":71,"column":5,"nodeType":"169","endLine":71,"endColumn":23,"suggestions":"174"},{"ruleId":"167","severity":1,"message":"175","line":49,"column":5,"nodeType":"169","endLine":49,"endColumn":7,"suggestions":"176"},{"ruleId":"167","severity":1,"message":"177","line":15,"column":5,"nodeType":"169","endLine":15,"endColumn":11,"suggestions":"178"},{"ruleId":"167","severity":1,"message":"179","line":42,"column":5,"nodeType":"169","endLine":42,"endColumn":14,"suggestions":"180"},{"ruleId":"181","severity":1,"message":"182","line":180,"column":52,"nodeType":"183","messageId":"184","endLine":180,"endColumn":53,"suggestions":"185"},{"ruleId":"160","severity":1,"message":"186","line":11,"column":2,"nodeType":"162","messageId":"163","endLine":11,"endColumn":12},{"ruleId":"160","severity":1,"message":"187","line":51,"column":15,"nodeType":"162","messageId":"163","endLine":51,"endColumn":22},{"ruleId":"167","severity":1,"message":"188","line":22,"column":5,"nodeType":"169","endLine":22,"endColumn":7,"suggestions":"189"},"no-native-reassign",["190"],"no-negated-in-lhs",["191"],"no-unused-vars","'handleAddButton' is assigned a value but never used.","Identifier","unusedVar","'Link' is defined but never used.",["190"],["191"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentDate' and 'getRangeOfTimeAndEvents'. Either include them or remove the dependency array.","ArrayExpression",["192"],"React Hook useEffect has missing dependencies: 'findCheckedOnEdit' and 'props.editFlag'. Either include them or remove the dependency array.",["193"],"React Hook useEffect has a missing dependency: 'services.length'. Either include it or remove the dependency array.",["194"],"React Hook useEffect has a missing dependency: 'currentDate'. Either include it or remove the dependency array.",["195"],"React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["196"],"React Hook useEffect has a missing dependency: 'total'. Either include it or remove the dependency array.",["197"],"no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["198","199"],"'InputLabel' is defined but never used.","'setSala' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getPatient'. Either include it or remove the dependency array.",["200"],"no-global-assign","no-unsafe-negation",{"desc":"201","fix":"202"},{"desc":"203","fix":"204"},{"desc":"205","fix":"206"},{"desc":"207","fix":"208"},{"desc":"209","fix":"210"},{"desc":"211","fix":"212"},{"messageId":"213","fix":"214","desc":"215"},{"messageId":"216","fix":"217","desc":"218"},{"desc":"219","fix":"220"},"Update the dependencies array to be: [currentDate, getRangeOfTimeAndEvents, view]",{"range":"221","text":"222"},"Update the dependencies array to be: [findCheckedOnEdit, props.editFlag]",{"range":"223","text":"224"},"Update the dependencies array to be: [services.length, servicesSelected]",{"range":"225","text":"226"},"Update the dependencies array to be: [currentDate]",{"range":"227","text":"228"},"Update the dependencies array to be: [date, props]",{"range":"229","text":"230"},"Update the dependencies array to be: [pagacon, total]",{"range":"231","text":"232"},"removeEscape",{"range":"233","text":"234"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"235","text":"236"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [getPatient]",{"range":"237","text":"238"},[1252,1258],"[currentDate, getRangeOfTimeAndEvents, view]",[2155,2157],"[findCheckedOnEdit, props.editFlag]",[2395,2413],"[services.length, servicesSelected]",[1529,1531],"[currentDate]",[438,444],"[date, props]",[1324,1333],"[pagacon, total]",[4445,4446],"",[4445,4445],"\\",[767,769],"[getPatient]"]