[{"C:\\Users\\rdelrio\\www\\barbermx\\src\\index.js":"1","C:\\Users\\rdelrio\\www\\barbermx\\src\\App.js":"2","C:\\Users\\rdelrio\\www\\barbermx\\src\\reportWebVitals.js":"3","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Layout.jsx":"4","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\LayoutRouter.jsx":"5","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Sidebar\\Sidebar.jsx":"6","C:\\Users\\rdelrio\\www\\barbermx\\src\\Routes.js":"7","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Venta\\Venta.jsx":"8","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Agenda.jsx":"9","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Calendar.jsx":"10","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Cita.jsx":"11","C:\\Users\\rdelrio\\www\\barbermx\\src\\Store.js":"12","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Services\\Services.jsx":"13","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Home.jsx":"14","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Weather.jsx":"15","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\MiniCalendar.jsx":"16","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Clock.jsx":"17","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\POS\\POS.jsx":"18","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Cart\\Cart.jsx":"19","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\POS\\Cobrar.jsx":"20","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Ticket\\Ticket.jsx":"21","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Database\\Database.jsx":"22"},{"size":496,"mtime":1609716721999,"results":"23","hashOfConfig":"24"},{"size":833,"mtime":1621899886006,"results":"25","hashOfConfig":"24"},{"size":362,"mtime":499162500000,"results":"26","hashOfConfig":"24"},{"size":916,"mtime":1620285249404,"results":"27","hashOfConfig":"24"},{"size":375,"mtime":1609722312576,"results":"28","hashOfConfig":"24"},{"size":2224,"mtime":1627200537593,"results":"29","hashOfConfig":"24"},{"size":669,"mtime":1627190434622,"results":"30","hashOfConfig":"24"},{"size":849,"mtime":1620707753303,"results":"31","hashOfConfig":"24"},{"size":308,"mtime":1620451289021,"results":"32","hashOfConfig":"24"},{"size":9077,"mtime":1627200421570,"results":"33","hashOfConfig":"24"},{"size":15389,"mtime":1627106002475,"results":"34","hashOfConfig":"24"},{"size":2754,"mtime":1626156736267,"results":"35","hashOfConfig":"24"},{"size":395,"mtime":1621918555739,"results":"36","hashOfConfig":"24"},{"size":7261,"mtime":1630041864195,"results":"37","hashOfConfig":"24"},{"size":2390,"mtime":1622420066010,"results":"38","hashOfConfig":"24"},{"size":1837,"mtime":1622357849271,"results":"39","hashOfConfig":"24"},{"size":496,"mtime":1630041395251,"results":"40","hashOfConfig":"24"},{"size":3223,"mtime":1627180214261,"results":"41","hashOfConfig":"24"},{"size":8540,"mtime":1627180382573,"results":"42","hashOfConfig":"24"},{"size":9556,"mtime":1626842560794,"results":"43","hashOfConfig":"24"},{"size":4576,"mtime":1627190031034,"results":"44","hashOfConfig":"24"},{"size":4953,"mtime":1630040959982,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"y8o94a",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"63"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"48"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"48"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"48"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"48"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\rdelrio\\www\\barbermx\\src\\index.js",[],["98","99"],"C:\\Users\\rdelrio\\www\\barbermx\\src\\App.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\reportWebVitals.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Layout.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\LayoutRouter.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Sidebar\\Sidebar.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\Routes.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Venta\\Venta.jsx",[],["100","101"],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Agenda.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Calendar.jsx",["102"],"import { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n// import { db } from \"../../index\";\r\n\r\nimport { Calendar, dateFnsLocalizer } from \"react-big-calendar\";\r\nimport withDragAndDrop from \"react-big-calendar/lib/addons/dragAndDrop\";\r\nimport { es } from \"date-fns/locale\";\r\n\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport {\r\n\tadd,\r\n\tendOfDay,\r\n\tendOfWeek,\r\n\tstartOfDay,\r\n\tstartOfWeek,\r\n\tsub,\r\n\tendOfMonth,\r\n\tstartOfMonth,\r\n\tformat,\r\n\tparse,\r\n\tgetDay,\r\n\tgetTime,\r\n\tparseISO,\r\n} from \"date-fns\";\r\nimport { Drawer } from \"@material-ui/core\";\r\nimport Cita from \"./Cita\";\r\nconst locales = {\r\n\tes: es,\r\n};\r\n//\r\nconst localizer = dateFnsLocalizer({\r\n\tformat,\r\n\tparse,\r\n\tstartOfWeek,\r\n\tgetDay,\r\n\tlocales,\r\n});\r\nconst DragAndDropCalendar = withDragAndDrop(Calendar);\r\n\r\nconst Calendario = () => {\r\n\tconst barbers = [\"\", \"Barber 1\", \"Barber 2\", \"Barber 3\", \"Barber 4\"];\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [openCreate, setOpenCreate] = useState(false);\r\n\tconst [openEdit, setOpenEdit] = useState(false);\r\n\tconst [actualEvent, setActualEvent] = useState(null);\r\n\tconst [view, setView] = useState(\"day\");\r\n\tconst [currentDate, setCurrentDate] = useState(new Date());\r\n\r\n\tuseEffect(() => {\r\n\t\tgetRangeOfTimeAndEvents(currentDate);\r\n\t}, [view]);\r\n\r\n\tconst openCreateModal = (ev) => {\r\n\t\tsetActualEvent({\r\n\t\t\tstart: ev.start,\r\n\t\t\tend: ev.end,\r\n\t\t\ttitle: \"\",\r\n\t\t\tresourceId: ev.resourceId,\r\n\t\t});\r\n\t\tsetOpenCreate(true);\r\n\t};\r\n\tconst createEvent = async (event) => {\r\n\t\tconsole.log(event);\r\n\t\tsetOpenCreate(false);\r\n\t\tif (event.ready) {\r\n\t\t\tlet newEvent = {\r\n\t\t\t\ttitle: event.client.name,\r\n\t\t\t\tstart: event.start,\r\n\t\t\t\tstartTS: getTime(event.start),\r\n\t\t\t\tend: event.end,\r\n\t\t\t\tclient: event.client,\r\n\t\t\t\t// dia: format(event.start, \"yyyy-MM-dd\"),\r\n\t\t\t\tresourceId: event.barber,\r\n\t\t\t\t// barber: barbers[event.barber - 1],\r\n\t\t\t\tcart: event.cart,\r\n\t\t\t};\r\n\t\t\tconsole.log(newEvent);\r\n\t\t\tawait axios.post(\"http://localhost:4000/api/events\", newEvent);\r\n\t\t\tsetEvents([...events, newEvent]);\r\n\t\t\tgetRangeOfTimeAndEvents(currentDate);\r\n\t\t}\r\n\t};\r\n\r\n\tconst openEditModal = (ev) => {\r\n\t\tconsole.log(ev);\r\n\t\tif (ev.pagado) {\r\n\t\t\talert(\"No se puede editar un evento terminado\");\r\n\t\t} else {\r\n\t\t\tsetActualEvent(ev);\r\n\t\t\tsetOpenEdit(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst closeEditModal = ({\r\n\t\tstart,\r\n\t\tend,\r\n\t\tclient,\r\n\t\tbarber,\r\n\t\tcart,\r\n\t\tready,\r\n\t\tremove,\r\n\t}) => {\r\n\t\tconsole.log({ start, end, client, barber, cart, ready });\r\n\t\tsetOpenEdit(false);\r\n\t\tif (ready || remove) {\r\n\t\t\tif (remove) {\r\n\t\t\t\tdeleteEvent(actualEvent);\r\n\t\t\t} else {\r\n\t\t\t\teditEvent({\r\n\t\t\t\t\tevent: actualEvent,\r\n\t\t\t\t\tclient,\r\n\t\t\t\t\tstart,\r\n\t\t\t\t\tend,\r\n\t\t\t\t\tresourceId: barber,\r\n\t\t\t\t\tcart,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst editEvent = async ({ event, client, start, end, resourceId, cart }) => {\r\n\t\tconsole.log({ event, client, start, end, resourceId, cart });\r\n\t\tif (event.pagado) {\r\n\t\t\talert(\"No se puede editar un evento terminado\");\r\n\t\t} else {\r\n\t\t\tlet newEvent = null;\r\n\t\t\tif (resourceId === undefined || resourceId === null) {\r\n\t\t\t\tconsole.log(\"undefined\");\r\n\t\t\t\tnewEvent = {\r\n\t\t\t\t\t...event,\r\n\t\t\t\t\tstart,\r\n\t\t\t\t\tend,\r\n\t\t\t\t\tstartTS: getTime(start),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tif (event.resourceId === resourceId) {\r\n\t\t\t\t\tnewEvent = {\r\n\t\t\t\t\t\t...event,\r\n\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\tend,\r\n\t\t\t\t\t\tstartTS: getTime(start),\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewEvent = {\r\n\t\t\t\t\t\t...event,\r\n\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\tend,\r\n\t\t\t\t\t\tstartTS: getTime(start),\r\n\t\t\t\t\t\tresourceId: resourceId,\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (client !== undefined) {\r\n\t\t\t\tif (event.client._id !== client._id) {\r\n\t\t\t\t\tnewEvent = { ...newEvent, client, title: client.name };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (cart !== undefined) {\r\n\t\t\t\tnewEvent = { ...newEvent, cart };\r\n\t\t\t}\r\n\t\t\tawait axios.put(`http://localhost:4000/api/events/${event._id}`, {\r\n\t\t\t\t...newEvent,\r\n\t\t\t});\r\n\t\t\tgetRangeOfTimeAndEvents(currentDate);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteEvent = async (event) => {\r\n\t\tconsole.log(\"delete event\" + JSON.stringify(event));\r\n\t\tawait axios.delete(`http://localhost:4000/api/events/${event._id}`);\r\n\t\tgetRangeOfTimeAndEvents(currentDate);\r\n\t};\r\n\r\n\tconst showView = (actualView) => {\r\n\t\tsetView(actualView);\r\n\t};\r\n\r\n\tconst getRangeOfTimeAndEvents = (date) => {\r\n\t\tsetCurrentDate(date);\r\n\t\tlet start, end;\r\n\t\tif (view === \"day\") {\r\n\t\t\tstart = startOfDay(date);\r\n\t\t\tend = endOfDay(date);\r\n\t\t} else if (view === \"week\") {\r\n\t\t\tstart = startOfWeek(date);\r\n\t\t\tend = endOfWeek(date);\r\n\t\t} else if (view === \"month\") {\r\n\t\t\tstart = sub(startOfMonth(date), { days: 6 });\r\n\t\t\tend = add(endOfMonth(date), { days: 6 });\r\n\t\t} else if (view === \"agenda\") {\r\n\t\t\tstart = startOfDay(date);\r\n\t\t\tend = add(endOfDay(date), { days: 3 });\r\n\t\t}\r\n\t\tlet inicio = getTime(start);\r\n\t\tlet final = getTime(end);\r\n\t\tconsole.log(\"look for events from \" + inicio + \" to \" + final);\r\n\t\t// Search for events\r\n\t\taxios\r\n\t\t\t.get(\"http://localhost:4000/api/events/range\", {\r\n\t\t\t\tparams: { startDate: start, endDate: end },\r\n\t\t\t})\r\n\t\t\t.then((data) => {\r\n\t\t\t\tlet myEvents = [];\r\n\t\t\t\tdata.data.data.forEach((event) => {\r\n\t\t\t\t\tlet ev = {\r\n\t\t\t\t\t\t...event,\r\n\t\t\t\t\t\tstart: parseISO(event.start),\r\n\t\t\t\t\t\tend: parseISO(event.end),\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmyEvents.push(ev);\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(myEvents);\r\n\t\t\t\tsetEvents(myEvents);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst resourceMap = [\r\n\t\t{ resourceId: 1, barber: \"Barber 1\", color: \"#00bcd4\" },\r\n\t\t{ resourceId: 2, barber: \"Barber 2\", color: \"#FFC107\" },\r\n\t\t{ resourceId: 3, barber: \"Barber 3\", color: \"#4caf50\" },\r\n\t\t{ resourceId: 4, barber: \"Barber 4\", color: \"#e91e63\" },\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\t<DragAndDropCalendar\r\n\t\t\t\t\tselectable\r\n\t\t\t\t\tculture={\"es\"}\r\n\t\t\t\t\tlocalizer={localizer}\r\n\t\t\t\t\tevents={events}\r\n\t\t\t\t\tlength={3}\r\n\t\t\t\t\tonEventDrop={editEvent}\r\n\t\t\t\t\tonSelectSlot={openCreateModal}\r\n\t\t\t\t\tonSelectEvent={openEditModal}\r\n\t\t\t\t\tonView={showView}\r\n\t\t\t\t\tonNavigate={getRangeOfTimeAndEvents}\r\n\t\t\t\t\tdefaultView={view}\r\n\t\t\t\t\tresources={view === \"week\" ? null : resourceMap}\r\n\t\t\t\t\tresourceIdAccessor=\"resourceId\"\r\n\t\t\t\t\tresourceTitleAccessor=\"barber\"\r\n\t\t\t\t\tstep={30}\r\n\t\t\t\t\tmessages={{\r\n\t\t\t\t\t\tprevious: \"<\",\r\n\t\t\t\t\t\ttoday: \"Hoy\",\r\n\t\t\t\t\t\tmonth: \"Mes\",\r\n\t\t\t\t\t\tweek: \"Semana\",\r\n\t\t\t\t\t\tday: \"Día\",\r\n\t\t\t\t\t\tnext: \">\",\r\n\t\t\t\t\t\tnoEventsInRange: \"Sin clientes agendados para este rango de fechas\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttimeslots={4}\r\n\t\t\t\t\tmin={new Date(\"2019, 1, 1, 08:00\")}\r\n\t\t\t\t\tmax={new Date(\"2019, 1, 1, 22:00\")}\r\n\t\t\t\t\tstyle={{ height: \"85vh\" }}\r\n\t\t\t\t\ttooltipAccessor={(ev) =>\r\n\t\t\t\t\t\t`${ev.title} - ${ev.cart.servicesInCart[0].description} con ${\r\n\t\t\t\t\t\t\tbarbers[ev.resourceId]\r\n\t\t\t\t\t\t} `\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcomponents={{\r\n\t\t\t\t\t\tagenda: {\r\n\t\t\t\t\t\t\tevent: (ev) => (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{ev.event.resourceId ? (\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={{ pathname: `/client/${ev.event.clientid}` }}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: resourceMap[ev.event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"none\",\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{`${ev.title} - ${\r\n\t\t\t\t\t\t\t\t\t\t\t\tresourceMap[ev.event.resourceId - 1].barber\r\n\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<span>{ev.title}</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tevent: (ev) => (\r\n\t\t\t\t\t\t\t<div className=\"event\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{ev.title}\r\n\t\t\t\t\t\t\t\t\t{ev.event.pagado ? (\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons done\">done</i>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<span>{ev.event.cart.servicesInCart[0].description}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t}}\r\n\t\t\t\t\teventPropGetter={(event) => {\r\n\t\t\t\t\t\tif (event.resourceId === 1 && view !== \"agenda\") {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\tborderTopColor: resourceMap[event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (event.resourceId === 2 && view !== \"agenda\") {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\tborderTopColor: resourceMap[event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (event.resourceId === 3 && view !== \"agenda\") {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\tborderTopColor: resourceMap[event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (event.resourceId === 4 && view !== \"agenda\") {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\tborderTopColor: resourceMap[event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t{view !== \"day\" && view !== \"agenda\" ? (\r\n\t\t\t\t\t<div className=\"leyenda\">\r\n\t\t\t\t\t\t{resourceMap.map((barber) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<b key={barber.resourceId} style={{ color: barber.color }}>\r\n\t\t\t\t\t\t\t\t\t{barber.barber}\r\n\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\topen={openCreate}\r\n\t\t\t\t\tanchor=\"right\"\r\n\t\t\t\t\tonClose={() => setOpenCreate(false)}>\r\n\t\t\t\t\t<Cita\r\n\t\t\t\t\t\ttitle=\"Agregar nueva cita\"\r\n\t\t\t\t\t\tevent={actualEvent}\r\n\t\t\t\t\t\tonClose={createEvent}></Cita>\r\n\t\t\t\t</Drawer>\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\topen={openEdit}\r\n\t\t\t\t\tanchor=\"right\"\r\n\t\t\t\t\tonClose={() => setOpenEdit(false)}>\r\n\t\t\t\t\t<Cita\r\n\t\t\t\t\t\ttitle=\"Editar cita\"\r\n\t\t\t\t\t\tevent={actualEvent}\r\n\t\t\t\t\t\teditFlag={true}\r\n\t\t\t\t\t\tonClose={closeEditModal}></Cita>\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Calendario;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Cita.jsx",["103","104"],"import { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { format, getMinutes, getHours, isAfter, isEqual } from \"date-fns\";\r\nimport { es } from \"date-fns/locale\";\r\nimport { TimePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\nimport { ServicesContext } from \"../../Store\";\r\n\r\nimport \"./Cita.scss\";\r\nimport defaultPP from \"../../assets/pp_default.svg\";\r\n\r\nconst Cita = (props) => {\r\n\tconsole.log(props);\r\n\tconst services = useContext(ServicesContext);\r\n\t// const clients = [\r\n\t// \t{ uid: \"1\", name: \"Ricardo Del Rio\", tel: \"8711126205\" },\r\n\t// \t{ uid: \"2\", name: \"Alberto Saavedra\", tel: \"8712222222\" },\r\n\t// \t{ uid: \"3\", name: \"Osvaldo Aleman\", tel: \"8713333333\" },\r\n\t// \t{ uid: \"4\", name: \"Gerardo Alba\", tel: \"8714444444\" },\r\n\t// \t{ uid: \"5\", name: \"Hector Ramirez\", tel: \"8715555555\" },\r\n\t// ];\r\n\tconst barbers = [\"\", \"Barber 1\", \"Barber 2\", \"Barber 3\", \"Barber 4\"];\r\n\tconst [checkedState, setCheckedState] = useState(\r\n\t\tnew Array(services.length).fill(false)\r\n\t);\r\n\r\n\tconst [clients, setClients] = useState([]);\r\n\tconst [servicesSelected, setServicesSelected] = useState(\r\n\t\tprops.event.cart ? props.event.cart.servicesInCart : []\r\n\t);\r\n\tconst [total, setTotal] = useState(0);\r\n\tconst [barber, setBarber] = useState(\r\n\t\tprops.event.resourceId ? props.event.resourceId : 1\r\n\t);\r\n\tconst [client, setClient] = useState(\r\n\t\tprops.event.client ? props.event.client : \"\"\r\n\t);\r\n\tconst [start, setStart] = useState(\r\n\t\tprops.event.start ? props.event.start : \"\"\r\n\t);\r\n\tconst [end, setEnd] = useState(props.event.end ? props.event.end : \"\");\r\n\tconst [errorTime, setErrorTime] = useState(\"\");\r\n\t// flags\r\n\tconst [editServicesFlag, setEditServicesFlag] = useState(false);\r\n\tconst [showServicesCard, setShowServicesCard] = useState(false);\r\n\tconst [serviceSelected, setServiceSelected] = useState(false);\r\n\r\n\tconst [editClientsFlag, setEditClientsFlag] = useState(false);\r\n\tconst [showClientsCard, setShowClientsCard] = useState(false);\r\n\tconst [clientSelected, setClientSelected] = useState(false);\r\n\r\n\tconst [showCardHoras, setShowCardHoras] = useState(false);\r\n\tconst [horasSelected, setHorasSelected] = useState(false);\r\n\r\n\tconst [showBarberSelect, setShowBarberSelect] = useState(false);\r\n\tconst [saveBtnDisabled, setSaveBtnDisabled] = useState(true);\r\n\r\n\t//COMPONENT USEEFFECTS\r\n\r\n\tuseEffect(() => {\r\n\t\t// revisar checked en edit\r\n\t\tif (props.editFlag) {\r\n\t\t\tfindCheckedOnEdit();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetEditServicesFlag(false);\r\n\t\tif (servicesSelected.length > 0) {\r\n\t\t\tsetServiceSelected(true);\r\n\t\t} else {\r\n\t\t\tsetServiceSelected(false);\r\n\t\t\tsetCheckedState(new Array(services.length).fill(false));\r\n\t\t}\r\n\t}, [servicesSelected]);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetEditClientsFlag(false);\r\n\t\tif (client !== \"\") {\r\n\t\t\tsetClientSelected(true);\r\n\t\t} else {\r\n\t\t\tsetClientSelected(false);\r\n\t\t}\r\n\t}, [client]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (start !== \"\" || end !== \"\") {\r\n\t\t\tif (isAfter(start, end) || isEqual(start, end)) {\r\n\t\t\t\tsetErrorTime(\"Revisa que las horas sean correctas\");\r\n\t\t\t\tsetHorasSelected(false);\r\n\t\t\t} else {\r\n\t\t\t\tsetErrorTime(\"\");\r\n\t\t\t\tsetHorasSelected(true);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetHorasSelected(false);\r\n\t\t}\r\n\t}, [start, end]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (serviceSelected && barber !== null && clientSelected && horasSelected) {\r\n\t\t\tsetSaveBtnDisabled(false);\r\n\t\t} else {\r\n\t\t\tsetSaveBtnDisabled(true);\r\n\t\t}\r\n\t}, [serviceSelected, barber, clientSelected, horasSelected]);\r\n\r\n\t// COMPONENT FUNCTIONS\r\n\r\n\tconst searchClients = (value) => {\r\n\t\tconsole.log(value);\r\n\t\tif (value.length > 2) {\r\n\t\t\taxios\r\n\t\t\t\t.get(\"http://localhost:4000/api/clients/filtered\", {\r\n\t\t\t\t\tparams: { pre: value },\r\n\t\t\t\t})\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tlet myClients = [];\r\n\t\t\t\t\tdata.data.forEach((client) => {\r\n\t\t\t\t\t\tmyClients.push(client);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(myClients);\r\n\t\t\t\t\tsetClients(myClients);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetClients([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleTimeChange = (date, time) => {\r\n\t\tlet mins = getMinutes(date);\r\n\t\tlet hours = getHours(date);\r\n\t\tif (time === \"start\") {\r\n\t\t\tlet newDate = new Date(start);\r\n\t\t\tnewDate.setHours(hours);\r\n\t\t\tnewDate.setMinutes(mins);\r\n\t\t\tsetStart(newDate);\r\n\t\t}\r\n\t\tif (time === \"end\") {\r\n\t\t\tlet newDate = new Date(end);\r\n\t\t\tnewDate.setHours(hours);\r\n\t\t\tnewDate.setMinutes(mins);\r\n\t\t\tsetEnd(newDate);\r\n\t\t}\r\n\t};\r\n\r\n\tconst findCheckedOnEdit = () => {\r\n\t\tlet myEstado = [...checkedState];\r\n\t\tfor (let i = 0; i < props.event.cart.servicesInCart.length; i++) {\r\n\t\t\tfor (let j = 0; j < services.length; j++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tprops.event.cart.servicesInCart[i].description ===\r\n\t\t\t\t\tservices[j].description\r\n\t\t\t\t) {\r\n\t\t\t\t\tmyEstado[j] = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetCheckedState(myEstado);\r\n\t};\r\n\r\n\tconst handleService = (serv, position) => {\r\n\t\tconsole.log(serv);\r\n\r\n\t\tconst updatedCheckedState = checkedState.map((item, index) =>\r\n\t\t\tindex === position ? !item : item\r\n\t\t);\r\n\r\n\t\tsetCheckedState(updatedCheckedState);\r\n\t};\r\n\tconst saveServices = () => {\r\n\t\tconst myServices = checkedState.reduce((sum, currentState, index) => {\r\n\t\t\tconsole.log(sum);\r\n\t\t\tconsole.log(services[index]);\r\n\t\t\tif (currentState === true) {\r\n\t\t\t\treturn (sum = [\r\n\t\t\t\t\t...sum,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdescription: services[index].description,\r\n\t\t\t\t\t\tprice: services[index].price,\r\n\t\t\t\t\t},\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\t\t\treturn sum;\r\n\t\t}, []);\r\n\t\tconsole.log(myServices);\r\n\t\tsetServicesSelected(myServices);\r\n\t\t// Obtener el total\r\n\t\tlet sum = 0;\r\n\t\tfor (let i = 0; i < myServices.length; i++) {\r\n\t\t\tsum = sum + Number(myServices[i].price);\r\n\t\t}\r\n\t\tsetTotal(sum);\r\n\t\t// Poner flag de service Selected\r\n\t\tif (servicesSelected.length > 0) {\r\n\t\t\tsetServiceSelected(true);\r\n\t\t} else {\r\n\t\t\tsetServiceSelected(false);\r\n\t\t}\r\n\t\tsetShowServicesCard(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"citaC\">\r\n\t\t\t<div className=\"citaHeader\">\r\n\t\t\t\t<b>{props.title}</b>\r\n\t\t\t\t{props.editFlag ? (\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tprops.onClose({\r\n\t\t\t\t\t\t\t\tremove: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<i className=\"material-icons\">delete</i>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps\">\r\n\t\t\t\t<div className=\"step \">\r\n\t\t\t\t\t<b className={serviceSelected ? \"num done\" : \"num\"}>1</b>\r\n\t\t\t\t\t<span className=\"line\"></span>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t{serviceSelected ? (\r\n\t\t\t\t\t\t\t<div className=\"conDatos\">\r\n\t\t\t\t\t\t\t\t<div className=\"tituloCard\">\r\n\t\t\t\t\t\t\t\t\t<b>SERVICIOS AGENDADOS:</b>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"editBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowServicesCard(true);\r\n\t\t\t\t\t\t\t\t\t\t\tsetEditServicesFlag(true);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"cardContentServicios\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t{servicesSelected.map((service) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<li>{service.description}</li>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"barberSelect\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowBarberSelect((prev) => !prev)}>\r\n\t\t\t\t\t\t\t\t\t\t{barbers[barber]}\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">arrow_drop_down</i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\tshowBarberSelect\r\n\t\t\t\t\t\t\t\t\t\t\t\t? \"dropdown selectDropDown\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t: \"dropdown selectDropDown hide\"\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"option\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetBarber(1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetShowBarberSelect(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\tBarber 1\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"option\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetBarber(2);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetShowBarberSelect(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\tBarber 2\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"option\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetBarber(3);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetShowBarberSelect(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\tBarber 3\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"option\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetBarber(4);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetShowBarberSelect(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\tBarber 4\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"sinDatos\">\r\n\t\t\t\t\t\t\t\t<div className=\"tituloCard\">\r\n\t\t\t\t\t\t\t\t\t<b>AGREGAR SERVICIO</b>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button onClick={() => setShowServicesCard((prev) => !prev)}>\r\n\t\t\t\t\t\t\t\t\tSeleccionar service\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className={showServicesCard ? \"dropdown\" : \"dropdown hide\"}>\r\n\t\t\t\t\t\t\t{editServicesFlag ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\" dropdownBtn backBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowServicesCard(false);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">arrow_back</i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dropdownBtn deleteBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetServicesSelected([]);\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowServicesCard(false);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">delete</i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclassName=\"dropdownBtn  cancelBtn\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetServicesSelected([]);\r\n\t\t\t\t\t\t\t\t\t\tsetShowServicesCard(false);\r\n\t\t\t\t\t\t\t\t\t\tsetEditServicesFlag(false);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">clear</i>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"dropdownList\">\r\n\t\t\t\t\t\t\t\t{services.map((service, index) => (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tvalue={service.desc}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\thandleService(service, index);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\tname={service.description}\r\n\t\t\t\t\t\t\t\t\t\t\tid={index}\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={checkedState[index]}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<span>{service.description}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"costo\">${service.price}</span>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"saveServiceBtn\">\r\n\t\t\t\t\t\t\t\t<button onClick={() => saveServices()}>Guardar</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"step client \">\r\n\t\t\t\t\t<b className={clientSelected ? \"num done\" : \"num\"}>2</b>\r\n\t\t\t\t\t<span className=\"line\"></span>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t{clientSelected ? (\r\n\t\t\t\t\t\t\t<div className=\"conDatos\">\r\n\t\t\t\t\t\t\t\t<div className=\"tituloCard\">\r\n\t\t\t\t\t\t\t\t\t<b>INFORMACIÓN DEL CLIENTE:</b>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"editBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowClientsCard(true);\r\n\t\t\t\t\t\t\t\t\t\t\tsetEditClientsFlag(true);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"cardContentClient\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={client.avatar === \"\" ? defaultPP : client.avatar}\r\n\t\t\t\t\t\t\t\t\t\talt=\"avatar\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"clientRight\">\r\n\t\t\t\t\t\t\t\t\t\t<h3>{client.name}</h3>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"clientInf\">\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Tel:</b>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{client.tel} </span>\r\n\t\t\t\t\t\t\t\t\t\t\t<b>Email:</b>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{client.email} </span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"sinDatos\">\r\n\t\t\t\t\t\t\t\t<div className=\"tituloCard\">\r\n\t\t\t\t\t\t\t\t\t<b>AGREGAR CLIENTE</b>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<button onClick={() => setShowClientsCard((prev) => !prev)}>\r\n\t\t\t\t\t\t\t\t\tSeleccionar client\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className={showClientsCard ? \"dropdown\" : \"dropdown hide\"}>\r\n\t\t\t\t\t\t\t{editClientsFlag ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\" dropdownBtn backBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowClientsCard(false);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">arrow_back</i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"dropdownBtn deleteBtn\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetClient(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\tsetShowClientsCard(false);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">delete</i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclassName=\"dropdownBtn  cancelBtn\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetClient(\"\");\r\n\t\t\t\t\t\t\t\t\t\tsetShowClientsCard(false);\r\n\t\t\t\t\t\t\t\t\t\tsetEditClientsFlag(false);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">clear</i>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\t\t\tname=\"searchClients\"\r\n\t\t\t\t\t\t\t\tid=\"searchClients\"\r\n\t\t\t\t\t\t\t\tclassName=\"searchbarInDropdown\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Buscar...\"\r\n\t\t\t\t\t\t\t\tonKeyUp={(ev) => searchClients(ev.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className=\"dropdownList\">\r\n\t\t\t\t\t\t\t\t{clients &&\r\n\t\t\t\t\t\t\t\t\tclients.map((client, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={client.name}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetShowClientsCard(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetClient(client);\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<span>{client.name}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"costo\">{client.tel}</span>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"step horas \">\r\n\t\t\t\t\t<b className={horasSelected ? \"num done\" : \"num\"}>3</b>\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t<div className=\"conDatos\">\r\n\t\t\t\t\t\t\t<div className=\"tituloCard\">\r\n\t\t\t\t\t\t\t\t<b>FECHA Y HORA DE LA CITA:</b>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName=\"editBtn\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsetShowCardHoras(true);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"cardContentHoras\">\r\n\t\t\t\t\t\t\t\t<b>{`${format(\r\n\t\t\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\t\t\t\"EEEE',' dd 'de' MMMM 'de' hh:mm aaaa 'a'\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tlocale: es,\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)} ${format(end, \"hh:mm aaaa\")}`}</b>\r\n\t\t\t\t\t\t\t\t{errorTime !== \"\" ? (\r\n\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">error</i>\r\n\t\t\t\t\t\t\t\t\t\t{errorTime}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className={showCardHoras ? \"dropdown\" : \"dropdown hide\"}>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tclassName=\"dropdownBtn  cancelBtn\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetShowCardHoras(false);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<i className=\"material-icons\">clear</i>\r\n\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t<div className=\"timepickers\">\r\n\t\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"timepicker\"\r\n\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Inicio\"\r\n\t\t\t\t\t\t\t\t\t\tminutesStep=\"5\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={start}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(date) => handleTimeChange(date, \"start\")}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"timepicker\"\r\n\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tminutesStep=\"5\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Fin\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={end}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(date) => handleTimeChange(date, \"end\")}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"actions\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"cancelBtn\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tprops.onClose({\r\n\t\t\t\t\t\t\tready: false,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tCancelar\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tdisabled={saveBtnDisabled}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tsaveBtnDisabled ? \"saveBtn saveBtnDisabled\" : \"saveBtn saveBtnHover\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tprops.onClose({\r\n\t\t\t\t\t\t\tstart,\r\n\t\t\t\t\t\t\tend,\r\n\t\t\t\t\t\t\tclient,\r\n\t\t\t\t\t\t\tbarber,\r\n\t\t\t\t\t\t\tcart: {\r\n\t\t\t\t\t\t\t\tservicesInCart: servicesSelected,\r\n\t\t\t\t\t\t\t\tproductsInCart: [],\r\n\t\t\t\t\t\t\t\ttotal: total,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tready: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tAgendar\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Cita;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\Store.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Services\\Services.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Home.jsx",["105"],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Weather.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\MiniCalendar.jsx",["106"],"import React, { useEffect, useState } from \"react\";\r\n\r\nimport { MuiPickersUtilsProvider, DatePicker } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { subDays, addDays, format } from \"date-fns\";\r\nimport { es } from \"date-fns/locale\";\r\n\r\nimport \"./MiniCalendar.scss\";\r\n\r\nfunction MiniCalendar(props) {\r\n\tconst [date, setDate] = useState(new Date());\r\n\r\n\tuseEffect(() => {\r\n\t\tprops.onChange(date);\r\n\t}, [date]);\r\n\r\n\tconst handleDate = (txt) => {\r\n\t\tif (txt === \"back\") {\r\n\t\t\tsetDate(subDays(date, 1));\r\n\t\t}\r\n\t\tif (txt === \"next\") {\r\n\t\t\tsetDate(addDays(date, 1));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"miniCalendarC\">\r\n\t\t\t<div className=\"card\">\r\n\t\t\t\t<div className=\"superior\">\r\n\t\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t\t<div className=\"nameDay\">\r\n\t\t\t\t\t\t\t{format(date, \"eeee\", { locale: es })}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"day\"> {format(date, \"dd\")} </div>\r\n\t\t\t\t\t\t<div className=\"month\">\r\n\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t{format(date, \"MMMM\", { locale: es })}{\" \"}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"year\"> {format(date, \"yyyy\")} </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils} locale={es}>\r\n\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\tautoOk\r\n\t\t\t\t\t\t\t\tvariant=\"static\"\r\n\t\t\t\t\t\t\t\topenTo=\"date\"\r\n\t\t\t\t\t\t\t\tdisableToolbar\r\n\t\t\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\t\t\tonChange={(d) => setDate(d)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"inferior\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thandleDate(\"back\");\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{\"<\"}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetDate(new Date());\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\thoy\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thandleDate(\"next\");\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{\">\"}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default MiniCalendar;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Clock.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\POS\\POS.jsx",["107","108"],"import React, { useState } from \"react\";\r\n\r\nimport { Button, IconButton } from \"@material-ui/core\";\r\n\r\nimport \"./POS.scss\";\r\nimport Cobrar from \"./Cobrar\";\r\n\r\nfunction POS(props) {\r\n\tconsole.log(props.transaction);\r\n\tconst servicesInCart = props.transaction.cart\r\n\t\t? props.transaction.cart.servicesInCart\r\n\t\t: props.transaction.service;\r\n\tconst productsInCart = props.transaction.cart\r\n\t\t? props.transaction.cart.productsInCart\r\n\t\t: [];\r\n\r\n\t// const [iva, setIVA] = useState(\r\n\t// \tprops.transaction.cart ? props.transaction.cart.iva : 0\r\n\t// );\r\n\t// const [subTotal, setSubTotal] = useState(\r\n\t// \tprops.transaction.cart ? props.transaction.cart.subTotal : 0\r\n\t// );\r\n\t// const [articulos, setArticulos] = useState(\r\n\t// \tprops.transaction.cart ? props.transaction.cart.articulos : 0\r\n\t// );\r\n\r\n\tconst cobrarDone = async (done, transaction) => {\r\n\t\tconsole.log(done, transaction);\r\n\t\tif (done) {\r\n\t\t\tconsole.log(transaction);\r\n\t\t\t// await getTotal();\r\n\t\t\tlet sum = 0;\r\n\t\t\tlet articulos = 0;\r\n\t\t\tfor (let i = 0; i < servicesInCart.length; i++) {\r\n\t\t\t\tsum = sum + Number(servicesInCart[i].price);\r\n\t\t\t\tarticulos = articulos + 1;\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < productsInCart.length; i++) {\r\n\t\t\t\tsum = sum + Number(productsInCart[i].total);\r\n\t\t\t\tarticulos = articulos + productsInCart[i].cant;\r\n\t\t\t}\r\n\t\t\tlet iva = (sum * 0.16).toFixed(2);\r\n\t\t\tlet subTotal = (sum - iva).toFixed(2);\r\n\t\t\tprops.onClose(false, false, {\r\n\t\t\t\t...props.transaction,\r\n\t\t\t\t...transaction,\r\n\t\t\t\tarticulos,\r\n\t\t\t\tsubTotal,\r\n\t\t\t\tiva,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log(\"Cerrar cobrar OK\");\r\n\t\t\tprops.onClose(false, false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"POSC\">\r\n\t\t\t<div className=\"left\">\r\n\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tclassName=\"backBtn\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tprops.onClose(false, true);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<i className=\"material-icons\">arrow_back</i>\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<b>{props.transaction.title}</b>\r\n\t\t\t\t\t<span className=\"cartLabel\">\r\n\t\t\t\t\t\tCart <i className=\"material-icons\">shopping_cart</i>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"cartList\">\r\n\t\t\t\t\t<h3>Servicios</h3>\r\n\t\t\t\t\t<div className=\"cartServices\">\r\n\t\t\t\t\t\t{servicesInCart.map((service, index) => (\r\n\t\t\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p>1</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span>{service.description}</span>\r\n\t\t\t\t\t\t\t\t<b className=\"costo\">${service.price}</b>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h3>Productos</h3>\r\n\t\t\t\t\t<div className=\"cartProducts\">\r\n\t\t\t\t\t\t{productsInCart.map((product, index) => (\r\n\t\t\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p>{product.cant}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span>{product.name}</span>\r\n\t\t\t\t\t\t\t\t<b className=\"costo\">${product.price}</b>\r\n\t\t\t\t\t\t\t\t<b className=\"costo\">${product.total}</b>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <div className=\"actionBtns\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"cancelBtn\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tconsole.log({ servicesInCart, productsInCart, total });\r\n\t\t\t\t\t\t\t\tprops.onClose(false);\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div> */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"right\">\r\n\t\t\t\t<Cobrar onClose={cobrarDone} transaction={props.transaction} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default POS;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Cart\\Cart.jsx",["109","110","111","112","113"],"import { useState, useContext, useEffect } from \"react\";\r\nimport SwipeableViews from \"react-swipeable-views\";\r\n\r\nimport { Tabs, Paper, Tab, Button } from \"@material-ui/core\";\r\n\r\nimport { ServicesContext, ProductsContext } from \"../../../Store\";\r\nimport noimage from \"../../../assets/noimage.png\";\r\n\r\nimport \"./Cart.scss\";\r\n\r\nfunction Cart(props) {\r\n\tconst [tabsValue, setTabsValue] = useState(0);\r\n\tconst productsDB = useContext(ProductsContext);\r\n\tconst servicesDB = useContext(ServicesContext);\r\n\r\n\tconst [products, setProducts] = useState([...productsDB]);\r\n\tconst [services, setServices] = useState([...servicesDB]);\r\n\r\n\tconst [productsInCart, setProductsInCart] = useState(\r\n\t\tprops.transaction.cart ? props.transaction.cart.productsInCart : []\r\n\t);\r\n\tconst [servicesInCart, setServicesInCart] = useState(\r\n\t\tprops.transaction.cart\r\n\t\t\t? props.transaction.cart.servicesInCart\r\n\t\t\t: props.transaction.service\r\n\t);\r\n\tconst [total, setTotal] = useState(\r\n\t\tprops.transaction.cart ? props.transaction.cart.total : 0\r\n\t);\r\n\tconst [articulos, setArticulos] = useState(\r\n\t\tprops.transaction.cart ? props.transaction.cart.articulos : 0\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetTotal();\r\n\t}, [servicesInCart, productsInCart]);\r\n\r\n\tconst handleTabChange = (event, newValue) => {\r\n\t\tsetTabsValue(newValue);\r\n\t};\r\n\tconst handleTabChangeIndex = (index) => {\r\n\t\tsetTabsValue(index);\r\n\t};\r\n\r\n\tconst searchProducts = async (v) => {\r\n\t\tif (v) {\r\n\t\t\tif (v.length > 2) {\r\n\t\t\t\tlet myProducts = await filterByProperty(productsDB, \"name\", v);\r\n\t\t\t\tsetProducts(myProducts);\r\n\t\t\t} else {\r\n\t\t\t\tsetProducts(productsDB);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tconst searchServices = async (v) => {\r\n\t\tif (v) {\r\n\t\t\tif (v.length > 2) {\r\n\t\t\t\tlet myProducts = await filterByProperty(servicesDB, \"description\", v);\r\n\t\t\t\tsetServices(myProducts);\r\n\t\t\t} else {\r\n\t\t\t\tsetServices(servicesDB);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst filterByProperty = (array, prop, value) => {\r\n\t\tvar filtered = [];\r\n\t\tfor (var i = 0; i < array.length; i++) {\r\n\t\t\tvar obj = array[i];\r\n\t\t\tif (obj[prop].indexOf(value) >= 0) {\r\n\t\t\t\tfiltered.push(obj);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn filtered;\r\n\t};\r\n\r\n\tconst addServiceToCart = (serv) => {\r\n\t\tlet arr = [...servicesInCart];\r\n\t\tlet alreadyAdded = false;\r\n\t\tarr.find((o, i) => {\r\n\t\t\tif (o.description === serv.description) {\r\n\t\t\t\talreadyAdded = true;\r\n\t\t\t\treturn true; // stop searching\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (alreadyAdded) {\r\n\t\t\tsetServicesInCart(arr);\r\n\t\t} else {\r\n\t\t\tarr.push(serv);\r\n\t\t\tsetServicesInCart(arr);\r\n\t\t}\r\n\t};\r\n\tconst addProductToCart = (prod) => {\r\n\t\tlet arr = [...productsInCart];\r\n\t\tlet find = arr.find((o, i) => {\r\n\t\t\tif (o.name === prod.name) {\r\n\t\t\t\tlet newCant = o.cant + 1;\r\n\t\t\t\tlet newTotal = o.price * newCant;\r\n\t\t\t\tarr[i] = { ...prod, cant: newCant, total: newTotal };\r\n\t\t\t\tsetProductsInCart(arr);\r\n\t\t\t\treturn true; // stop searching\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (!find) {\r\n\t\t\tarr.push({ ...prod, cant: 1, total: Number(prod.price) });\r\n\t\t\tsetProductsInCart(arr);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteServiceFromCart = (serv) => {\r\n\t\tlet arr = [...servicesInCart];\r\n\t\tarr.find((o, i) => {\r\n\t\t\tif (o.description === serv.description) {\r\n\t\t\t\tarr.splice(i, 1);\r\n\t\t\t\treturn true; // stop searching\r\n\t\t\t}\r\n\t\t});\r\n\t\tsetServicesInCart(arr);\r\n\t};\r\n\r\n\tconst deleteProductFromCart = (prod) => {\r\n\t\tlet arr = [...productsInCart];\r\n\t\tarr.find((o, i) => {\r\n\t\t\tif (o.name === prod.name) {\r\n\t\t\t\tif (o.cant === 1) {\r\n\t\t\t\t\tarr.splice(i, 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet newCant = o.cant - 1;\r\n\t\t\t\t\tlet newTotal = o.price * newCant;\r\n\t\t\t\t\tarr[i] = { ...prod, cant: newCant, total: newTotal };\r\n\t\t\t\t}\r\n\t\t\t\tsetProductsInCart(arr);\r\n\t\t\t\treturn true; // stop searching\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst getTotal = () => {\r\n\t\tlet sum = 0;\r\n\t\tlet cant = 0;\r\n\t\tfor (let i = 0; i < servicesInCart.length; i++) {\r\n\t\t\tsum = sum + Number(servicesInCart[i].price);\r\n\t\t\tcant = cant + 1;\r\n\t\t}\r\n\t\tfor (let i = 0; i < productsInCart.length; i++) {\r\n\t\t\tsum = sum + Number(productsInCart[i].total);\r\n\t\t\tcant = cant + productsInCart[i].cant;\r\n\t\t}\r\n\t\tsetArticulos(cant);\r\n\t\tsetTotal(sum);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"CartC\">\r\n\t\t\t<div className=\"gridCart\">\r\n\t\t\t\t<div className=\"left\">\r\n\t\t\t\t\t<SwipeableViews\r\n\t\t\t\t\t\taxis={\"x\"}\r\n\t\t\t\t\t\tclassName=\"swipeableViews\"\r\n\t\t\t\t\t\tindex={tabsValue}\r\n\t\t\t\t\t\tonChangeIndex={handleTabChangeIndex}>\r\n\t\t\t\t\t\t<div value={tabsValue} index={0} className=\"productsView\">\r\n\t\t\t\t\t\t\t<div className=\"searchBarProducts searchBar\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Buscar productos...\"\r\n\t\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\t\tsearchProducts(ev.target.value.toLowerCase())\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"productsList\">\r\n\t\t\t\t\t\t\t\t{products.map((product, index) => (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"demoProduct\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\taddProductToCart(product);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<img src={noimage} alt=\"noImg\" />\r\n\t\t\t\t\t\t\t\t\t\t<span> {product.name}</span>\r\n\t\t\t\t\t\t\t\t\t\t<b>${product.price}</b>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div value={tabsValue} index={1} className=\"servicesView\">\r\n\t\t\t\t\t\t\t<div className=\"searchBarServices searchBar\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Buscar servicios...\"\r\n\t\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\t\tsearchServices(ev.target.value.toLowerCase())\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"servicesList\">\r\n\t\t\t\t\t\t\t\t{services.map((service, index) => (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\taddServiceToCart(service);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">content_cut</i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<span>{service.description}</span>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"costo\">${service.price}</span>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</SwipeableViews>\r\n\t\t\t\t\t<Paper square className=\"tabsFooter\">\r\n\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\tvalue={tabsValue}\r\n\t\t\t\t\t\t\tonChange={handleTabChange}\r\n\t\t\t\t\t\t\tvariant=\"fullWidth\"\r\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t\taria-label=\"icon label tabs example\">\r\n\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\ticon={<i className=\"material-icons\">shopping_basket</i>}\r\n\t\t\t\t\t\t\t\tlabel=\"Productos\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Tab\r\n\t\t\t\t\t\t\t\ticon={<i className=\"material-icons\">content_cut</i>}\r\n\t\t\t\t\t\t\t\tlabel=\"Servicios\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"right\">\r\n\t\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t\t<b>{props.transaction.title}</b>\r\n\t\t\t\t\t\t<b>-</b>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tCart <i className=\"material-icons\">shopping_cart</i>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"cartList\">\r\n\t\t\t\t\t\t<h3>Servicios</h3>\r\n\t\t\t\t\t\t<div className=\"cartServices\">\r\n\t\t\t\t\t\t\t{servicesInCart.map((service, index) => (\r\n\t\t\t\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"material-icons\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteServiceFromCart(service)}>\r\n\t\t\t\t\t\t\t\t\t\t\tdelete\r\n\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span>{service.description}</span>\r\n\t\t\t\t\t\t\t\t\t<b className=\"costo\">${service.price}</b>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>Productos</h3>\r\n\t\t\t\t\t\t<div className=\"cartProducts\">\r\n\t\t\t\t\t\t\t{productsInCart.map((product, index) => (\r\n\t\t\t\t\t\t\t\t<li key={index}>\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"material-icons\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteProductFromCart(product)}>\r\n\t\t\t\t\t\t\t\t\t\t\t{product.cant === 1 ? \"delete\" : \"remove\"}\r\n\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t\t<p>{product.cant}</p>\r\n\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"material-icons add\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => addProductToCart(product)}>\r\n\t\t\t\t\t\t\t\t\t\t\tadd\r\n\t\t\t\t\t\t\t\t\t\t</i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span>{product.name}</span>\r\n\t\t\t\t\t\t\t\t\t<b className=\"costo\">${product.price}</b>\r\n\t\t\t\t\t\t\t\t\t<b className=\"costo\">${product.total}</b>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"total\">\r\n\t\t\t\t\t\t\t<span>{`Articulos: ${articulos}`}</span>\r\n\t\t\t\t\t\t\t<span>{`Total: $${total}`}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"actionBtns\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"cancelBtn\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tprops.onClose(false);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tclassName=\"cobrarBtn\"\r\n\t\t\t\t\t\t\t\tdisabled={total === 0}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tconsole.log({ servicesInCart, productsInCart, total });\r\n\t\t\t\t\t\t\t\t\tprops.onClose({\r\n\t\t\t\t\t\t\t\t\t\tservicesInCart,\r\n\t\t\t\t\t\t\t\t\t\tproductsInCart,\r\n\t\t\t\t\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tCobrar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Cart;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\POS\\Cobrar.jsx",["114","115","116","117","118"],"import React, { useState, useEffect } from \"react\";\r\nimport \"./Cobrar.scss\";\r\n\r\nimport {\r\n\tRadioGroup,\r\n\tFormControlLabel,\r\n\tButton,\r\n\tRadio,\r\n\tDialog,\r\n\tZoom,\r\n} from \"@material-ui/core\";\r\n\r\n// import { db } from \"../../index\";\r\n\r\nfunction Cobrar(props) {\r\n\tconst user = props.transaction.resourceId;\r\n\tconst total = props.transaction.cart.total;\r\n\r\n\tconst [pagacon, setPagaCon] = useState(\"\");\r\n\tconst [cambio, setCambio] = useState(0);\r\n\tconst [porpagar, setPorpagar] = useState(0);\r\n\tconst [formaDePago, setFormaDePago] = useState(\"efectivo\");\r\n\tconst [tipoDeTarjeta, setTipoDeTarjeta] = useState(\"visamastercard\");\r\n\tconst [digitos, setDigitos] = useState(\"\");\r\n\tconst [autorizacion, setAutorizacion] = useState(\"\");\r\n\r\n\tconst [porPagarColor, setPorPagarColor] = useState(\"gray\");\r\n\tconst [cambioColor, setCambioColor] = useState(\"gray\");\r\n\tconst [cambioFontSize, setCambioFontSize] = useState(\"1em\");\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(pagacon);\r\n\t\tcalcular();\r\n\t}, [pagacon]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (formaDePago === \"tarjeta\") {\r\n\t\t\tsetPagaCon(\"\");\r\n\t\t\tsetCambio(0);\r\n\t\t\tsetPorpagar(0);\r\n\t\t}\r\n\t}, [formaDePago]);\r\n\r\n\tconst calcular = () => {\r\n\t\tconsole.log(total);\r\n\t\tconsole.log(pagacon);\r\n\t\tlet ppagar = total - Number(pagacon);\r\n\t\tconsole.log(ppagar);\r\n\t\tif (ppagar <= 0) {\r\n\t\t\tsetPorpagar(0);\r\n\t\t\tsetPorPagarColor(\"gray\");\r\n\t\t} else {\r\n\t\t\tsetPorpagar(ppagar);\r\n\t\t\tsetPorPagarColor(\"#f44336\");\r\n\t\t}\r\n\t\tlet micambio = Number(pagacon) - total;\r\n\t\tif (micambio <= 0) {\r\n\t\t\tsetCambio(0);\r\n\t\t\tsetCambioColor(\"gray\");\r\n\t\t\tsetCambioFontSize(\"1em\");\r\n\t\t} else {\r\n\t\t\tsetCambio(micambio);\r\n\t\t\tsetCambioColor(\"#2196f3\");\r\n\t\t\tsetCambioFontSize(\"2em\");\r\n\t\t}\r\n\t};\r\n\tconst sendNum = (v) => {\r\n\t\tconsole.log(v);\r\n\t\tif (pagacon === \"\") {\r\n\t\t\tif (\r\n\t\t\t\tv === \"back\" ||\r\n\t\t\t\tv === \"clear\" ||\r\n\t\t\t\tv === \".\" ||\r\n\t\t\t\tv === \"0\" ||\r\n\t\t\t\tv === \"00\"\r\n\t\t\t) {\r\n\t\t\t\tsetPagaCon(\"\");\r\n\t\t\t} else {\r\n\t\t\t\tlet temp = pagacon + v;\r\n\t\t\t\tconsole.log(temp);\r\n\t\t\t\tsetPagaCon(temp);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (v === \"back\") {\r\n\t\t\t\tsetPagaCon(pagacon.substring(0, pagacon.length - 1));\r\n\t\t\t} else {\r\n\t\t\t\tif (v === \"clear\") {\r\n\t\t\t\t\tsetPagaCon(\"\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet temp = pagacon + v;\r\n\t\t\t\t\tconsole.log(temp);\r\n\t\t\t\t\tsetPagaCon(temp);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst sendTicket = () => {\r\n\t\tconsole.log(\"sendTicket\");\r\n\t\tlet myTime = new Date().getTime();\r\n\t\tconsole.log({\r\n\t\t\t...props.transaccion,\r\n\t\t\tpagado: myTime,\r\n\t\t\tticket: myTime,\r\n\t\t\tpagacon,\r\n\t\t\tcambio,\r\n\t\t\tformaDePago,\r\n\t\t\ttipoDeTarjeta,\r\n\t\t\tdigitos,\r\n\t\t\tautorizacion,\r\n\t\t\towner: user,\r\n\t\t});\r\n\t\t// db.collection(\"tickets\").add({\r\n\t\t//   ...props.transaccion,\r\n\t\t//   pagado: myTime,\r\n\t\t//   ticket: myTime,\r\n\t\t//   pagacon,\r\n\t\t//   cambio,\r\n\t\t//   formaDePago,\r\n\t\t//   tipoDeTarjeta,\r\n\t\t//   digitos,\r\n\t\t//   autorizacion,\r\n\t\t//   owner: user,\r\n\t\t// });\r\n\t\tif (formaDePago === \"efectivo\") {\r\n\t\t\tprops.onClose(true, {\r\n\t\t\t\t...props.transaccion,\r\n\t\t\t\tpagado: myTime,\r\n\t\t\t\tticket: myTime,\r\n\t\t\t\tpagacon,\r\n\t\t\t\tcambio,\r\n\t\t\t\tformaDePago,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tprops.onClose(true, {\r\n\t\t\t\t...props.transaccion,\r\n\t\t\t\tpagado: myTime,\r\n\t\t\t\tticket: myTime,\r\n\t\t\t\tformaDePago,\r\n\t\t\t\tdigitos,\r\n\t\t\t\tautorizacion,\r\n\t\t\t\ttipoDeTarjeta,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tprops.onClose(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"cobrarC\">\r\n\t\t\t<div className=\"left\">\r\n\t\t\t\t<h1>Total a Pagar:</h1>\r\n\t\t\t\t<h3 id=\"total\">${total}</h3>\r\n\t\t\t\t{pagacon ? (\r\n\t\t\t\t\t<div className=\"gridCambio\">\r\n\t\t\t\t\t\t<p style={{ color: porPagarColor }}>por pagar:</p>\r\n\t\t\t\t\t\t<strong style={{ color: porPagarColor }}>{porpagar}</strong>\r\n\t\t\t\t\t\t<p style={{ color: cambioColor }}>cambio:</p>\r\n\t\t\t\t\t\t<strong style={{ color: cambioColor, fontSize: cambioFontSize }}>\r\n\t\t\t\t\t\t\t{cambio}\r\n\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{formaDePago === \"efectivo\" && porpagar === 0 && pagacon !== \"\" ? (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName=\"cobrar\"\r\n\t\t\t\t\t\tonClick={() => sendTicket()}>\r\n\t\t\t\t\t\tPagar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{formaDePago === \"tarjeta\" && autorizacion !== \"\" ? (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tclassName=\"cobrar\"\r\n\t\t\t\t\t\tonClick={() => sendTicket()}>\r\n\t\t\t\t\t\tPagar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"right\">\r\n\t\t\t\t<div className=\"pago\">\r\n\t\t\t\t\t<div className=\"radioFormaDePago\">\r\n\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\tvalue={formaDePago}\r\n\t\t\t\t\t\t\tclassName=\"radioGroupFdP\"\r\n\t\t\t\t\t\t\tonChange={(ev) => setFormaDePago(ev.target.value)}>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tvalue=\"efectivo\"\r\n\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\tlabel=\"Efectivo\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\tvalue=\"tarjeta\"\r\n\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\tlabel=\"Tarjeta\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{formaDePago === \"efectivo\" ? (\r\n\t\t\t\t\t\t<div className=\"efectivo\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"inputKB\"\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\tonChange={\r\n\t\t\t\t\t\t\t\t\t(ev) =>\r\n\t\t\t\t\t\t\t\t\t\tsetPagaCon(ev.target.value.replace(/[^\\d*\\.?^\\d*]/, \"\"))\r\n\t\t\t\t\t\t\t\t\t// setPagaCon(ev.target.value.replace(/[^\\d]/, \"\"))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tvalue={pagacon}\r\n\t\t\t\t\t\t\t\tmaxLength={8}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className=\"KB\">\r\n\t\t\t\t\t\t\t\t<div className=\"numKB\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"num1-9\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"1\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t1\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"2\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"3\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t3\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"4\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t4\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"5\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t5\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"6\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t6\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"7\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t7\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"8\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t8\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"9\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t9\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"num0-00\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"0\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"00\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t00\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"back\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"back\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">keyboard_backspace</i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\"clear\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">clear</i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"punto\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => sendNum(\".\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t.\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t<div className=\"tarjeta\">\r\n\t\t\t\t\t\t\t\t<ol>\r\n\t\t\t\t\t\t\t\t\t<li>Seleccione tipo de tarjeta</li>\r\n\t\t\t\t\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"tipoTarjeta\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={tipoDeTarjeta}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(ev) => setTipoDeTarjeta(ev.target.value)}\r\n\t\t\t\t\t\t\t\t\t\trequired>\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"visamastercard\"\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Visa / MasterCard\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\tvalue=\"amex\"\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"American Express\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t\t<li>Ingrese últimos 4 digitos de la tarjeta</li>\r\n\t\t\t\t\t\t\t\t\t<div className=\"digitos\">\r\n\t\t\t\t\t\t\t\t\t\t{tipoDeTarjeta === \"visamastercard\" ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<p>XXXX-XXXX-XXXX-</p>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<p>XXXX-XXXXXX-X</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"digitos\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={digitos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDigitos(ev.target.value.replace(/[^\\d]/, \"\"))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxLength={4}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"1234\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<li>Realice transacción en terminal</li>\r\n\t\t\t\t\t\t\t\t\t<p className=\"espacio\">\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons\">credit_card</i>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<li>Ingrese número de autorización</li>\r\n\t\t\t\t\t\t\t\t\t<p className=\"autorizacion\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"autorizacion\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={autorizacion}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(ev) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetAutorizacion(ev.target.value.replace(/[^\\d]/, \"\"))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxLength={6}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"123456\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</ol>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Cobrar;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Home\\Ticket\\Ticket.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Database\\Database.jsx",[],{"ruleId":"119","replacedBy":"120"},{"ruleId":"121","replacedBy":"122"},{"ruleId":"119","replacedBy":"123"},{"ruleId":"121","replacedBy":"124"},{"ruleId":"125","severity":1,"message":"126","line":53,"column":5,"nodeType":"127","endLine":53,"endColumn":11,"suggestions":"128"},{"ruleId":"125","severity":1,"message":"129","line":67,"column":5,"nodeType":"127","endLine":67,"endColumn":7,"suggestions":"130"},{"ruleId":"125","severity":1,"message":"131","line":77,"column":5,"nodeType":"127","endLine":77,"endColumn":23,"suggestions":"132"},{"ruleId":"125","severity":1,"message":"133","line":40,"column":5,"nodeType":"127","endLine":40,"endColumn":7,"suggestions":"134"},{"ruleId":"125","severity":1,"message":"135","line":15,"column":5,"nodeType":"127","endLine":15,"endColumn":11,"suggestions":"136"},{"ruleId":"137","severity":1,"message":"138","line":1,"column":17,"nodeType":"139","messageId":"140","endLine":1,"endColumn":25},{"ruleId":"137","severity":1,"message":"141","line":3,"column":10,"nodeType":"139","messageId":"140","endLine":3,"endColumn":16},{"ruleId":"125","severity":1,"message":"142","line":36,"column":5,"nodeType":"127","endLine":36,"endColumn":37,"suggestions":"143"},{"ruleId":"144","severity":1,"message":"145","line":80,"column":19,"nodeType":"146","messageId":"147","endLine":80,"endColumn":21},{"ruleId":"144","severity":1,"message":"145","line":95,"column":30,"nodeType":"146","messageId":"147","endLine":95,"endColumn":32},{"ruleId":"144","severity":1,"message":"145","line":112,"column":19,"nodeType":"146","messageId":"147","endLine":112,"endColumn":21},{"ruleId":"144","severity":1,"message":"145","line":123,"column":19,"nodeType":"146","messageId":"147","endLine":123,"endColumn":21},{"ruleId":"137","severity":1,"message":"148","line":9,"column":2,"nodeType":"139","messageId":"140","endLine":9,"endColumn":8},{"ruleId":"137","severity":1,"message":"149","line":10,"column":2,"nodeType":"139","messageId":"140","endLine":10,"endColumn":6},{"ruleId":"125","severity":1,"message":"150","line":35,"column":5,"nodeType":"127","endLine":35,"endColumn":14,"suggestions":"151"},{"ruleId":"137","severity":1,"message":"152","line":148,"column":8,"nodeType":"139","messageId":"140","endLine":148,"endColumn":19},{"ruleId":"153","severity":1,"message":"154","line":212,"column":52,"nodeType":"155","messageId":"156","endLine":212,"endColumn":53,"suggestions":"157"},"no-native-reassign",["158"],"no-negated-in-lhs",["159"],["158"],["159"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentDate' and 'getRangeOfTimeAndEvents'. Either include them or remove the dependency array.","ArrayExpression",["160"],"React Hook useEffect has missing dependencies: 'findCheckedOnEdit' and 'props.editFlag'. Either include them or remove the dependency array.",["161"],"React Hook useEffect has a missing dependency: 'services.length'. Either include it or remove the dependency array.",["162"],"React Hook useEffect has a missing dependency: 'currentDate'. Either include it or remove the dependency array.",["163"],"React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["164"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'Button' is defined but never used.","React Hook useEffect has a missing dependency: 'getTotal'. Either include it or remove the dependency array.",["165"],"array-callback-return","Array.prototype.find() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","'Dialog' is defined but never used.","'Zoom' is defined but never used.","React Hook useEffect has a missing dependency: 'calcular'. Either include it or remove the dependency array.",["166"],"'handleClose' is assigned a value but never used.","no-useless-escape","Unnecessary escape character: \\..","Literal","unnecessaryEscape",["167","168"],"no-global-assign","no-unsafe-negation",{"desc":"169","fix":"170"},{"desc":"171","fix":"172"},{"desc":"173","fix":"174"},{"desc":"175","fix":"176"},{"desc":"177","fix":"178"},{"desc":"179","fix":"180"},{"desc":"181","fix":"182"},{"messageId":"183","fix":"184","desc":"185"},{"messageId":"186","fix":"187","desc":"188"},"Update the dependencies array to be: [currentDate, getRangeOfTimeAndEvents, view]",{"range":"189","text":"190"},"Update the dependencies array to be: [findCheckedOnEdit, props.editFlag]",{"range":"191","text":"192"},"Update the dependencies array to be: [services.length, servicesSelected]",{"range":"193","text":"194"},"Update the dependencies array to be: [currentDate]",{"range":"195","text":"196"},"Update the dependencies array to be: [date, props]",{"range":"197","text":"198"},"Update the dependencies array to be: [servicesInCart, productsInCart, getTotal]",{"range":"199","text":"200"},"Update the dependencies array to be: [calcular, pagacon]",{"range":"201","text":"202"},"removeEscape",{"range":"203","text":"204"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"205","text":"206"},"Replace the `\\` with `\\\\` to include the actual backslash character.",[1324,1330],"[currentDate, getRangeOfTimeAndEvents, view]",[2492,2494],"[findCheckedOnEdit, props.editFlag]",[2732,2750],"[services.length, servicesSelected]",[1209,1211],"[currentDate]",[438,444],"[date, props]",[1180,1212],"[servicesInCart, productsInCart, getTotal]",[1017,1026],"[calcular, pagacon]",[5000,5001],"",[5000,5000],"\\"]