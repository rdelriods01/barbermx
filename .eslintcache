[{"C:\\Users\\rdelrio\\www\\barbermx\\src\\index.js":"1","C:\\Users\\rdelrio\\www\\barbermx\\src\\App.js":"2","C:\\Users\\rdelrio\\www\\barbermx\\src\\reportWebVitals.js":"3","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Layout.jsx":"4","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\LayoutRouter.jsx":"5","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Sidebar\\Sidebar.jsx":"6","C:\\Users\\rdelrio\\www\\barbermx\\src\\Routes.js":"7","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Venta\\Venta.jsx":"8","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Agenda.jsx":"9","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Calendar.jsx":"10","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Event.jsx":"11","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Cita.jsx":"12"},{"size":496,"mtime":1609716721999,"results":"13","hashOfConfig":"14"},{"size":775,"mtime":1609733555029,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"16","hashOfConfig":"14"},{"size":916,"mtime":1620285249404,"results":"17","hashOfConfig":"14"},{"size":375,"mtime":1609722312576,"results":"18","hashOfConfig":"14"},{"size":1763,"mtime":1620285537250,"results":"19","hashOfConfig":"14"},{"size":482,"mtime":1609737378951,"results":"20","hashOfConfig":"14"},{"size":849,"mtime":1620707753303,"results":"21","hashOfConfig":"14"},{"size":308,"mtime":1620451289021,"results":"22","hashOfConfig":"14"},{"size":9090,"mtime":1621057415936,"results":"23","hashOfConfig":"14"},{"size":9664,"mtime":1620717082312,"results":"24","hashOfConfig":"14"},{"size":10722,"mtime":1621235560781,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"y8o94a",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\rdelrio\\www\\barbermx\\src\\index.js",[],["53","54"],"C:\\Users\\rdelrio\\www\\barbermx\\src\\App.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\reportWebVitals.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Layout.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\LayoutRouter.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Layout\\Sidebar\\Sidebar.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\Routes.js",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Venta\\Venta.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Agenda.jsx",[],"C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Calendar.jsx",["55","56","57","58","59"],"import { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// import { db } from \"../../index\";\r\n\r\nimport { Calendar, dateFnsLocalizer } from \"react-big-calendar\";\r\nimport withDragAndDrop from \"react-big-calendar/lib/addons/dragAndDrop\";\r\nimport Event from \"./Event\";\r\nimport { es } from \"date-fns/locale\";\r\n\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport {\r\n\tadd,\r\n\tendOfDay,\r\n\tendOfWeek,\r\n\tstartOfDay,\r\n\tstartOfWeek,\r\n\tsub,\r\n\tendOfMonth,\r\n\tstartOfMonth,\r\n\tformat,\r\n\tparse,\r\n\tgetDay,\r\n\tgetTime,\r\n} from \"date-fns\";\r\nimport { Drawer, Slide } from \"@material-ui/core\";\r\nimport Cita from \"./Cita\";\r\nconst locales = {\r\n\tes: es,\r\n};\r\n//\r\nconst localizer = dateFnsLocalizer({\r\n\tformat,\r\n\tparse,\r\n\tstartOfWeek,\r\n\tgetDay,\r\n\tlocales,\r\n});\r\nconst DragAndDropCalendar = withDragAndDrop(Calendar);\r\n\r\nconst Calendario = () => {\r\n\tconst salas = [\"TAC\", \"RX\", \"Ultra\", \"Masto\"];\r\n\tconst [events, setEvents] = useState([]);\r\n\tconst [openCreate, setOpenCreate] = useState(false);\r\n\tconst [openEdit, setOpenEdit] = useState(false);\r\n\tconst [actualEvent, setActualEvent] = useState(null);\r\n\tconst [view, setView] = useState(\"day\");\r\n\tconst [currentDate, setCurrentDate] = useState(new Date());\r\n\r\n\tuseEffect(() => {\r\n\t\tgetRangeOfTimeAndEvents(currentDate);\r\n\t}, [view]);\r\n\r\n\tconst openCreateModal = (ev) => {\r\n\t\tsetActualEvent({\r\n\t\t\tstart: ev.start,\r\n\t\t\tend: ev.end,\r\n\t\t\ttitle: \"\",\r\n\t\t\tresourceId: ev.resourceId,\r\n\t\t});\r\n\t\tsetOpenCreate(true);\r\n\t};\r\n\tconst createEvent = (event) => {\r\n\t\tconsole.log(event);\r\n\t\tsetOpenCreate(false);\r\n\t\tif (event.ready) {\r\n\t\t\tlet newEvent = {\r\n\t\t\t\ttitle: event.cliente.name,\r\n\t\t\t\tstart: event.start,\r\n\t\t\t\tstartTS: getTime(event.start),\r\n\t\t\t\tend: event.end,\r\n\t\t\t\tclienteid: event.cliente.uid,\r\n\t\t\t\tdia: format(event.start, \"yyyy-MM-dd\"),\r\n\t\t\t\tresourceId: event.resourceId,\r\n\t\t\t\tsala: salas[event.resourceId - 1],\r\n\t\t\t};\r\n\t\t\tconsole.log(newEvent);\r\n\t\t\t//   db.collection(\"events\")\r\n\t\t\t//     .add(newEvent)\r\n\t\t\t//     .catch((err) => console.log(\"Error addign event: \", err));\r\n\t\t}\r\n\t};\r\n\r\n\tconst openEditModal = (ev) => {\r\n\t\tsetActualEvent(ev);\r\n\t\tsetOpenEdit(true);\r\n\t};\r\n\r\n\tconst closeEditModal = (event) => {\r\n\t\tsetOpenEdit(false);\r\n\t\tif (event.ready || event.remove) {\r\n\t\t\tif (event.remove) {\r\n\t\t\t\tdeleteEvent(actualEvent);\r\n\t\t\t} else {\r\n\t\t\t\teditEvent({\r\n\t\t\t\t\tevent: actualEvent,\r\n\t\t\t\t\tstart: event.start,\r\n\t\t\t\t\tend: event.end,\r\n\t\t\t\t\tresourceId: event.resourceId,\r\n\t\t\t\t\tsala: salas[event.resourceId - 1],\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst editEvent = ({ event, start, end, resourceId }) => {\r\n\t\tlet newEvent = null;\r\n\t\tif (resourceId === undefined || resourceId === null) {\r\n\t\t\tconsole.log(\"undefined\");\r\n\t\t\tnewEvent = {\r\n\t\t\t\t...event,\r\n\t\t\t\tstart,\r\n\t\t\t\tend,\r\n\t\t\t\t// dia: moment(start).format(\"yyyy-MM-dd\"),\r\n\t\t\t\tdia: format(start, \"yyyy-MM-dd\"),\r\n\t\t\t\t// startTS: moment(start).local().valueOf(),\r\n\t\t\t\tstartTS: getTime(start),\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tif (event.resourceId === resourceId) {\r\n\t\t\t\tnewEvent = {\r\n\t\t\t\t\t...event,\r\n\t\t\t\t\tstart,\r\n\t\t\t\t\tend,\r\n\t\t\t\t\tdia: format(start, \"yyyy-MM-dd\"),\r\n\t\t\t\t\tstartTS: getTime(start),\r\n\t\t\t\t\tresourceId: event.resourceId,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tnewEvent = {\r\n\t\t\t\t\t...event,\r\n\t\t\t\t\tstart,\r\n\t\t\t\t\tend,\r\n\t\t\t\t\tdia: format(start, \"yyyy-MM-dd\"),\r\n\t\t\t\t\tstartTS: getTime(start),\r\n\t\t\t\t\tresourceId: resourceId,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(\"update event \" + newEvent);\r\n\t\t// db.collection(\"events\")\r\n\t\t//   .doc(event.uid)\r\n\t\t//   .update(newEvent)\r\n\t\t//   .then(() => {\r\n\t\t//     getRangeOfTimeAndEvents(currentDate);\r\n\t\t//   })\r\n\t\t//   .catch((err) => console.error(\"Error updating event: \", err));\r\n\t};\r\n\r\n\tconst deleteEvent = (event) => {\r\n\t\tconsole.log(\"delete event\" + event);\r\n\t\t// db.collection(\"events\")\r\n\t\t//   .doc(event.uid)\r\n\t\t//   .delete()\r\n\t\t//   .catch((err) => console.error(\"Error removing event: \", err));\r\n\t};\r\n\r\n\tconst showView = (actualView) => {\r\n\t\tsetView(actualView);\r\n\t};\r\n\r\n\tconst getRangeOfTimeAndEvents = (date) => {\r\n\t\tsetCurrentDate(date);\r\n\t\tlet start, end;\r\n\t\tif (view === \"day\") {\r\n\t\t\tstart = startOfDay(date);\r\n\t\t\tend = endOfDay(date);\r\n\t\t} else if (view === \"week\") {\r\n\t\t\tstart = startOfWeek(date);\r\n\t\t\tend = endOfWeek(date);\r\n\t\t} else if (view === \"month\") {\r\n\t\t\tstart = sub(startOfMonth(date), { days: 6 });\r\n\t\t\tend = add(endOfMonth(date), { days: 6 });\r\n\t\t} else if (view === \"agenda\") {\r\n\t\t\tstart = startOfDay(date);\r\n\t\t\tend = add(endOfDay(date), { days: 3 });\r\n\t\t}\r\n\t\tlet inicio = getTime(start);\r\n\t\tlet final = getTime(end);\r\n\t\tconsole.log(\"look for events\");\r\n\t\t// db.collection(\"events\")\r\n\t\t//   .where(\"startTS\", \">=\", inicio)\r\n\t\t//   .where(\"startTS\", \"<=\", final)\r\n\t\t//   // .onSnapshot((data) => {\r\n\t\t//   .get()\r\n\t\t//   .then((data) => {\r\n\t\t//     let myEvents = [];\r\n\t\t//     let counter = 0;\r\n\t\t//     let datalength = data.size;\r\n\t\t//     data.forEach((ev) => {\r\n\t\t//       let calStart = new Date(ev.data().start.toMillis());\r\n\t\t//       let calEnd = new Date(ev.data().end.toMillis());\r\n\t\t//       let patid = ev.data().clienteid;\r\n\t\t//       db.collection(\"clientes\")\r\n\t\t//         .doc(patid)\r\n\t\t//         .get()\r\n\t\t//         .then((pat) => {\r\n\t\t//           let evn = {\r\n\t\t//             ...ev.data(),\r\n\t\t//             start: calStart,\r\n\t\t//             end: calEnd,\r\n\t\t//             uid: ev.id,\r\n\t\t//             title: pat.data().name,\r\n\t\t//           };\r\n\t\t//           myEvents.push(evn);\r\n\t\t//           counter++;\r\n\t\t//           if (counter === datalength) {\r\n\t\t//             setEvents(myEvents);\r\n\t\t//           }\r\n\t\t//         });\r\n\t\t//     });\r\n\t\t//   });\r\n\t};\r\n\r\n\tconst resourceMap = [\r\n\t\t{ resourceId: 1, sala: \"Tomografia\", abr: \"TAC\", color: \"#00bcd4\" },\r\n\t\t{ resourceId: 2, sala: \"Rayos X\", abr: \"RX\", color: \"#FFC107\" },\r\n\t\t{ resourceId: 3, sala: \"Ultrasonido\", abr: \"UL\", color: \"#4caf50\" },\r\n\t\t{ resourceId: 4, sala: \"Mastografia\", abr: \"XM\", color: \"#e91e63\" },\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\t<DragAndDropCalendar\r\n\t\t\t\t\tselectable\r\n\t\t\t\t\tculture={\"es\"}\r\n\t\t\t\t\tlocalizer={localizer}\r\n\t\t\t\t\tevents={events}\r\n\t\t\t\t\tlength={3}\r\n\t\t\t\t\tonEventDrop={editEvent}\r\n\t\t\t\t\tonSelectSlot={openCreateModal}\r\n\t\t\t\t\tonSelectEvent={openEditModal}\r\n\t\t\t\t\tonView={showView}\r\n\t\t\t\t\tonNavigate={getRangeOfTimeAndEvents}\r\n\t\t\t\t\tdefaultView={view}\r\n\t\t\t\t\tresources={view === \"week\" ? null : resourceMap}\r\n\t\t\t\t\tresourceIdAccessor=\"resourceId\"\r\n\t\t\t\t\tresourceTitleAccessor=\"sala\"\r\n\t\t\t\t\tstep={30}\r\n\t\t\t\t\tmessages={{\r\n\t\t\t\t\t\tprevious: \"<\",\r\n\t\t\t\t\t\ttoday: \"Hoy\",\r\n\t\t\t\t\t\tmonth: \"Mes\",\r\n\t\t\t\t\t\tweek: \"Semana\",\r\n\t\t\t\t\t\tday: \"Día\",\r\n\t\t\t\t\t\tnext: \">\",\r\n\t\t\t\t\t\tnoEventsInRange:\r\n\t\t\t\t\t\t\t\"Sin pacientes agendados para este rango de fechas\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttimeslots={4}\r\n\t\t\t\t\tmin={new Date(\"2019, 1, 1, 08:00\")}\r\n\t\t\t\t\tmax={new Date(\"2019, 1, 1, 22:00\")}\r\n\t\t\t\t\tstyle={{ height: \"85vh\" }}\r\n\t\t\t\t\tcomponents={{\r\n\t\t\t\t\t\tagenda: {\r\n\t\t\t\t\t\t\tevent: (ev) => (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{ev.event.resourceId ? (\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tto={{ pathname: `/cliente/${ev.event.clienteid}` }}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: resourceMap[ev.event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: \"none\",\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t{`${ev.title} - ${\r\n\t\t\t\t\t\t\t\t\t\t\t\tresourceMap[ev.event.resourceId - 1].sala\r\n\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<span>{ev.title}</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t// toolbar: {\r\n\t\t\t\t\t\t// \theader: <h2>Hello</h2>,\r\n\t\t\t\t\t\t// },\r\n\t\t\t\t\t}}\r\n\t\t\t\t\teventPropGetter={(event) => {\r\n\t\t\t\t\t\tif (event.resourceId === 1 && view !== \"agenda\") {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: resourceMap[event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (event.resourceId === 2 && view !== \"agenda\") {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: resourceMap[event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (event.resourceId === 3 && view !== \"agenda\") {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: resourceMap[event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (event.resourceId === 4 && view !== \"agenda\") {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tstyle: {\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: resourceMap[event.resourceId - 1].color,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t{view !== \"day\" && view !== \"agenda\" ? (\r\n\t\t\t\t\t<div className=\"leyenda\">\r\n\t\t\t\t\t\t{resourceMap.map((sala) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<b key={sala.resourceId} style={{ color: sala.color }}>\r\n\t\t\t\t\t\t\t\t\t{sala.sala}\r\n\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\topen={openCreate}\r\n\t\t\t\t\tanchor=\"right\"\r\n\t\t\t\t\tonClose={() => setOpenCreate(false)}>\r\n\t\t\t\t\t<Cita\r\n\t\t\t\t\t\ttitle=\"Agregar nueva cita\"\r\n\t\t\t\t\t\tready={false}\r\n\t\t\t\t\t\tremove={false}\r\n\t\t\t\t\t\tdelbtn={false}\r\n\t\t\t\t\t\tevent={actualEvent}\r\n\t\t\t\t\t\tonClose={createEvent}></Cita>\r\n\t\t\t\t</Drawer>\r\n\t\t\t\t{openCreate ? null : openEdit ? (\r\n\t\t\t\t\t<Event\r\n\t\t\t\t\t\ttitle=\"Editar cita\"\r\n\t\t\t\t\t\tready={false}\r\n\t\t\t\t\t\tremove={false}\r\n\t\t\t\t\t\tdelbtn={true}\r\n\t\t\t\t\t\topen={openEdit}\r\n\t\t\t\t\t\tevent={actualEvent}\r\n\t\t\t\t\t\tonClose={closeEditModal}></Event>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Calendario;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Event.jsx",["60","61","62","63","64","65","66","67","68","69","70","71","72","73","74"],"import { useState, useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n\tButton,\r\n\tFormControl,\r\n\tInput,\r\n\tInputLabel,\r\n\tIconButton,\r\n\tSelect,\r\n\tMenuItem,\r\n\tOutlinedInput,\r\n\tStepper,\r\n\tStep,\r\n\tStepContent,\r\n\tStepLabel,\r\n\tStepButton,\r\n} from \"@material-ui/core\";\r\n\r\nimport { TimePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\r\n\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\n\r\nimport { getHours, getMinutes } from \"date-fns\";\r\n// import { ClientesContext } from \"../../Store\";\r\n\r\nconst Event = (props) => {\r\n\tconst clientes = [\r\n\t\t{ uid: \"1\", name: \"Ricardo Del Rio\", tel: \"8711126205\" },\r\n\t\t{ uid: \"2\", name: \"Alberto Saavedra\", tel: \"8712222222\" },\r\n\t\t{ uid: \"3\", name: \"Osvaldo Aleman\", tel: \"8713333333\" },\r\n\t\t{ uid: \"4\", name: \"Gerardo Alba\", tel: \"8714444444\" },\r\n\t\t{ uid: \"5\", name: \"Hector Ramirez\", tel: \"8715555555\" },\r\n\t];\r\n\tconst servicios = [\r\n\t\t{ uid: \"0\", desc: \"\" },\r\n\t\t{ uid: \"1\", desc: \"Corte de cabello\", costo: 100 },\r\n\t\t{ uid: \"2\", desc: \"Corte de barba\", costo: 80 },\r\n\t\t{ uid: \"3\", desc: \"Rasurada completa\", costo: 80 },\r\n\t];\r\n\t// console.log(clientes);\r\n\tconsole.log(props);\r\n\tconst [cliente, setCliente] = useState({});\r\n\t// const [clientes, setClientes] = useState([]);\r\n\tconst [editFlag, setEditFlag] = useState(props.editFlag);\r\n\tconst [completo, setCompleto] = useState(props.ready);\r\n\tconst [ready, setReady] = useState(props.ready);\r\n\tconst [open, setOpen] = useState(props.open);\r\n\tconst [remove, setRemove] = useState(props.remove);\r\n\tconst [start, setStart] = useState(props.event.start);\r\n\tconst [end, setEnd] = useState(props.event.end);\r\n\tconst [barber, setBarber] = useState(\r\n\t\tprops.event.resourceId ? props.event.resourceId : \"\"\r\n\t);\r\n\tconst [servicio, setServicio] = useState(\r\n\t\tprops.event.servicio ? props.event.servicio : \"\"\r\n\t);\r\n\t// const [clientes] = useContext([]);\r\n\tconst [results, setResults] = useState([]);\r\n\tconst steps = getSteps();\r\n\tconst [activeStep, setActiveStep] = useState(0);\r\n\tconst [completed, setCompleted] = useState({});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (ready === true) {\r\n\t\t\tprops.onClose({ start, end, ready, remove, cliente, barber });\r\n\t\t}\r\n\t}, [ready]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (remove === true) {\r\n\t\t\tprops.onClose({ start, end, ready, remove, cliente, barber });\r\n\t\t}\r\n\t}, [remove]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (barber !== \"\" || open === true) {\r\n\t\t\thandleComplete(3);\r\n\t\t} else {\r\n\t\t\tsetCompleted({ ...completed, 3: false });\r\n\t\t\tconsole.log(completed);\r\n\t\t}\r\n\t}, [barber, open]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (servicio !== \"\") {\r\n\t\t\thandleComplete(1);\r\n\t\t} else {\r\n\t\t\tsetCompleted({ ...completed, 1: false });\r\n\t\t}\r\n\t}, [open, servicio]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (start !== \"\" && end !== \"\") {\r\n\t\t\thandleComplete(2);\r\n\t\t} else {\r\n\t\t\tsetCompleted({ ...completed, 2: false });\r\n\t\t}\r\n\t}, [start, end, open]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (open === false) {\r\n\t\t\tprops.onClose({ start, end, ready, remove, cliente, barber });\r\n\t\t} else {\r\n\t\t\tconsole.log(\"openx\");\r\n\t\t\tconsole.log(completedSteps());\r\n\t\t}\r\n\t}, [open]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (completed[1] === false) {\r\n\t\t\tsetActiveStep(0);\r\n\t\t}\r\n\t}, [completed]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(activeStep);\r\n\t}, [activeStep]);\r\n\r\n\tconst handleTimeChange = (date, time) => {\r\n\t\tlet mins = getMinutes(date);\r\n\t\tlet hours = getHours(date);\r\n\t\tif (time === \"start\") {\r\n\t\t\tlet newDate = new Date(start);\r\n\t\t\tnewDate.setHours(hours);\r\n\t\t\tnewDate.setMinutes(mins);\r\n\t\t\tsetStart(newDate);\r\n\t\t}\r\n\t\tif (time === \"end\") {\r\n\t\t\tlet newDate = new Date(end);\r\n\t\t\tnewDate.setHours(hours);\r\n\t\t\tnewDate.setMinutes(mins);\r\n\t\t\tsetEnd(newDate);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = (ev) => {\r\n\t\tev.preventDefault();\r\n\t\tsetReady(true);\r\n\t};\r\n\tconst handleRemove = () => {\r\n\t\tconst r = window.confirm(\r\n\t\t\t\"¿Estás seguro que deseas eliminar esta cita de la agenda?\"\r\n\t\t);\r\n\t\tif (r === true) {\r\n\t\t\tsetRemove(true);\r\n\t\t}\r\n\t};\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\t// FIlter\r\n\tconst filterClientes = (val) => {\r\n\t\tval = val.trim().toLowerCase();\r\n\t\tif (val === \"\") {\r\n\t\t\tsetResults([]);\r\n\t\t} else {\r\n\t\t\tif (val.length > 3) {\r\n\t\t\t\t// Traer de la BD los que empiecen con 4 caracteres de val\r\n\t\t\t\t// y luego filtrarlos en el Front\r\n\t\t\t\tsetResults(filterAllProperties([...clientes], val));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst filterAllProperties = (array, value) => {\r\n\t\tlet filtrado = [];\r\n\t\tfor (let i = 0; i < array.length; i++) {\r\n\t\t\tlet obj = JSON.stringify(array[i]);\r\n\t\t\tif (obj.toLowerCase().indexOf(value) >= 0) {\r\n\t\t\t\tfiltrado.push(JSON.parse(obj));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn filtrado;\r\n\t};\r\n\r\n\tconst selectCliente = (pat) => {\r\n\t\tsetCliente(pat);\r\n\t\thandleComplete(0);\r\n\t\thandleNext();\r\n\t};\r\n\r\n\t// Stepper\r\n\tfunction getSteps() {\r\n\t\treturn [\r\n\t\t\t\"Selecciona el cliente\",\r\n\t\t\t\"Selecciona el servicio\",\r\n\t\t\t\"Fecha y Hora de la cita\",\r\n\t\t\t\"Selecciona el barber\",\r\n\t\t];\r\n\t}\r\n\r\n\tconst totalSteps = () => {\r\n\t\treturn steps.length;\r\n\t};\r\n\r\n\tconst completedSteps = () => {\r\n\t\treturn Object.keys(completed).length;\r\n\t};\r\n\r\n\tconst isLastStep = () => {\r\n\t\treturn activeStep === totalSteps() - 1;\r\n\t};\r\n\r\n\tconst allStepsCompleted = () => {\r\n\t\treturn completedSteps() === totalSteps();\r\n\t};\r\n\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n\t};\r\n\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n\t};\r\n\r\n\tconst handleStep = (step) => () => {\r\n\t\tsetActiveStep(step);\r\n\t};\r\n\r\n\tconst handleComplete = (step) => {\r\n\t\tconsole.log(activeStep);\r\n\t\tconst newCompleted = completed;\r\n\t\tnewCompleted[step] = true;\r\n\t\tsetCompleted(newCompleted);\r\n\t\t// handleNext();\r\n\t};\r\n\r\n\tfunction getStepContent(stepIndex) {\r\n\t\tswitch (stepIndex) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"case0\">\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\tclassName=\"titleinput\"\r\n\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"title\">Buscar cliente</InputLabel>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\tid=\"title\"\r\n\t\t\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\t\t\tautoComplete=\"title\"\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\tonChange={(e) => filterClientes(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<ul className=\"clienteList\">\r\n\t\t\t\t\t\t\t{results.length > 0 ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{results.map((cliente, index) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={index % 2 ? \"even\" : \"odd\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => selectCliente(cliente)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span> {cliente.name} </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span> {cliente.tel} </span>\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 1:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"case1\">\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\tclassName=\"selectSala\"\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tfullWidth>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"sala\">Sala</InputLabel>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={servicio}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setServicio(e.target.value)}\r\n\t\t\t\t\t\t\t\tinput={<OutlinedInput labelWidth={30} id=\"sala\" />}>\r\n\t\t\t\t\t\t\t\t{servicios.map((servicio, index) => (\r\n\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={servicio.desc}>\r\n\t\t\t\t\t\t\t\t\t\t{servicio.desc === \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t? \"Agrega el servicio requerido\"\r\n\t\t\t\t\t\t\t\t\t\t\t: servicio.desc}\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 2:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"pickers\">\r\n\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\tclassName=\"timepicker\"\r\n\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tlabel=\"Inicio\"\r\n\t\t\t\t\t\t\t\tminutesStep=\"5\"\r\n\t\t\t\t\t\t\t\tvalue={start}\r\n\t\t\t\t\t\t\t\tonChange={(date) => handleTimeChange(date, \"start\")}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<TimePicker\r\n\t\t\t\t\t\t\t\tclassName=\"timepicker\"\r\n\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tminutesStep=\"5\"\r\n\t\t\t\t\t\t\t\tlabel=\"Fin\"\r\n\t\t\t\t\t\t\t\tvalue={end}\r\n\t\t\t\t\t\t\t\tonChange={(date) => handleTimeChange(date, \"end\")}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 3:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\tclassName=\"selectBarber\"\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tfullWidth>\r\n\t\t\t\t\t\t<InputLabel htmlFor=\"barber\">Barber</InputLabel>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tdefaultValue={props.event.barber ? props.event.barber : barber}\r\n\t\t\t\t\t\t\tvalue={barber}\r\n\t\t\t\t\t\t\tonChange={(e) => setBarber(e.target.value)}\r\n\t\t\t\t\t\t\tinput={<OutlinedInput labelWidth={30} id=\"barber\" />}>\r\n\t\t\t\t\t\t\t<MenuItem value={\"\"}>Selecciona el barber</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem value={1}>Barber1</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem value={2}>Barber2</MenuItem>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\treturn \"Uknown stepIndex\";\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"eventModal\" role=\"presentation\">\r\n\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t<b id=\"form-dialog-title\"> {props.title} </b>\r\n\t\t\t\t\t{editFlag ? (\r\n\t\t\t\t\t\t<IconButton onClick={handleRemove}>\r\n\t\t\t\t\t\t\t<i className=\"material-icons\">delete</i>\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"stepper\">\r\n\t\t\t\t\t<Stepper nonLinear activeStep={activeStep} orientation=\"vertical\">\r\n\t\t\t\t\t\t{steps.map((label, index) => (\r\n\t\t\t\t\t\t\t<Step key={index}>\r\n\t\t\t\t\t\t\t\t<StepButton\r\n\t\t\t\t\t\t\t\t\tonClick={handleStep(index)}\r\n\t\t\t\t\t\t\t\t\tcompleted={completed[index]}>\r\n\t\t\t\t\t\t\t\t\t{label}\r\n\t\t\t\t\t\t\t\t</StepButton>\r\n\t\t\t\t\t\t\t\t<StepContent>{getStepContent(index)}</StepContent>\r\n\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Stepper>\r\n\t\t\t\t\t<div className=\"btns\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tdisabled={!completo}\r\n\t\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t\t\tfullWidth>\r\n\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Event;\r\n","C:\\Users\\rdelrio\\www\\barbermx\\src\\components\\Agenda\\Cita.jsx",[],{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":26,"column":18,"nodeType":"81","messageId":"82","endLine":26,"endColumn":23},{"ruleId":"79","severity":1,"message":"83","line":43,"column":17,"nodeType":"81","messageId":"82","endLine":43,"endColumn":26},{"ruleId":"84","severity":1,"message":"85","line":52,"column":5,"nodeType":"86","endLine":52,"endColumn":11,"suggestions":"87"},{"ruleId":"79","severity":1,"message":"88","line":178,"column":7,"nodeType":"81","messageId":"82","endLine":178,"endColumn":13},{"ruleId":"79","severity":1,"message":"89","line":179,"column":7,"nodeType":"81","messageId":"82","endLine":179,"endColumn":12},{"ruleId":"79","severity":1,"message":"90","line":1,"column":31,"nodeType":"81","messageId":"82","endLine":1,"endColumn":41},{"ruleId":"79","severity":1,"message":"91","line":2,"column":10,"nodeType":"81","messageId":"82","endLine":2,"endColumn":14},{"ruleId":"79","severity":1,"message":"92","line":16,"column":2,"nodeType":"81","messageId":"82","endLine":16,"endColumn":11},{"ruleId":"79","severity":1,"message":"93","line":45,"column":19,"nodeType":"81","messageId":"82","endLine":45,"endColumn":30},{"ruleId":"79","severity":1,"message":"94","line":46,"column":19,"nodeType":"81","messageId":"82","endLine":46,"endColumn":30},{"ruleId":"84","severity":1,"message":"95","line":68,"column":5,"nodeType":"86","endLine":68,"endColumn":12,"suggestions":"96"},{"ruleId":"84","severity":1,"message":"97","line":74,"column":5,"nodeType":"86","endLine":74,"endColumn":13,"suggestions":"98"},{"ruleId":"84","severity":1,"message":"99","line":83,"column":5,"nodeType":"86","endLine":83,"endColumn":19,"suggestions":"100"},{"ruleId":"84","severity":1,"message":"99","line":91,"column":5,"nodeType":"86","endLine":91,"endColumn":21,"suggestions":"101"},{"ruleId":"84","severity":1,"message":"99","line":99,"column":5,"nodeType":"86","endLine":99,"endColumn":23,"suggestions":"102"},{"ruleId":"84","severity":1,"message":"103","line":108,"column":5,"nodeType":"86","endLine":108,"endColumn":11,"suggestions":"104"},{"ruleId":"79","severity":1,"message":"105","line":149,"column":8,"nodeType":"81","messageId":"82","endLine":149,"endColumn":19},{"ruleId":"79","severity":1,"message":"106","line":202,"column":8,"nodeType":"81","messageId":"82","endLine":202,"endColumn":18},{"ruleId":"79","severity":1,"message":"107","line":206,"column":8,"nodeType":"81","messageId":"82","endLine":206,"endColumn":25},{"ruleId":"79","severity":1,"message":"108","line":214,"column":8,"nodeType":"81","messageId":"82","endLine":214,"endColumn":18},"no-native-reassign",["109"],"no-negated-in-lhs",["110"],"no-unused-vars","'Slide' is defined but never used.","Identifier","unusedVar","'setEvents' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'currentDate' and 'getRangeOfTimeAndEvents'. Either include them or remove the dependency array.","ArrayExpression",["111"],"'inicio' is assigned a value but never used.","'final' is assigned a value but never used.","'useContext' is defined but never used.","'Link' is defined but never used.","'StepLabel' is defined but never used.","'setEditFlag' is assigned a value but never used.","'setCompleto' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'barber', 'cliente', 'end', 'props', 'remove', and 'start'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["112"],"React Hook useEffect has missing dependencies: 'barber', 'cliente', 'end', 'props', 'ready', and 'start'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["113"],"React Hook useEffect has missing dependencies: 'completed' and 'handleComplete'. Either include them or remove the dependency array. You can also do a functional update 'setCompleted(c => ...)' if you only need 'completed' in the 'setCompleted' call.",["114"],["115"],["116"],"React Hook useEffect has missing dependencies: 'barber', 'cliente', 'completedSteps', 'end', 'props', 'ready', 'remove', and 'start'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["117"],"'handleClose' is assigned a value but never used.","'isLastStep' is assigned a value but never used.","'allStepsCompleted' is assigned a value but never used.","'handleBack' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"118","fix":"119"},{"desc":"120","fix":"121"},{"desc":"120","fix":"122"},{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},{"desc":"127","fix":"128"},{"desc":"129","fix":"130"},"Update the dependencies array to be: [currentDate, getRangeOfTimeAndEvents, view]",{"range":"131","text":"132"},"Update the dependencies array to be: [barber, cliente, end, props, ready, remove, start]",{"range":"133","text":"134"},{"range":"135","text":"134"},"Update the dependencies array to be: [barber, completed, handleComplete, open]",{"range":"136","text":"137"},"Update the dependencies array to be: [completed, handleComplete, open, servicio]",{"range":"138","text":"139"},"Update the dependencies array to be: [start, end, open, handleComplete, completed]",{"range":"140","text":"141"},"Update the dependencies array to be: [barber, cliente, completedSteps, end, open, props, ready, remove, start]",{"range":"142","text":"143"},[1298,1304],"[currentDate, getRangeOfTimeAndEvents, view]",[2172,2179],"[barber, cliente, end, props, ready, remove, start]",[2307,2315],[2500,2514],"[barber, completed, handleComplete, open]",[2656,2672],"[completed, handleComplete, open, servicio]",[2825,2843],"[start, end, open, handleComplete, completed]",[3043,3049],"[barber, cliente, completedSteps, end, open, props, ready, remove, start]"]